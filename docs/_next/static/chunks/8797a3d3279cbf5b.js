(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95705,e=>{"use strict";e.s(["ccipFetch",()=>b,"offchainLookup",()=>w,"offchainLookupAbiItem",()=>m,"offchainLookupSignature",()=>y],95705);var t=e.i(67272),a=e.i(2820),r=e.i(21910),s=e.i(21393);class n extends r.BaseError{constructor({callbackSelector:e,cause:t,data:a,extraData:r,sender:n,urls:o}){var c;super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],(null==(c=t.metaMessages)?void 0:c.length)?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(e=>"    ".concat((0,s.getUrl)(e)))],"  Sender: ".concat(n),"  Data: ".concat(a),"  Callback selector: ".concat(e),"  Extra data: ".concat(r)].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class o extends r.BaseError{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:["Gateway URL: ".concat((0,s.getUrl)(t)),"Response: ".concat((0,a.stringify)(e))]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class c extends r.BaseError{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:["Contract address: ".concat(t),"OffchainLookup sender address: ".concat(e)]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}var i=e.i(11668),d=e.i(48206),l=e.i(99818),u=e.i(63246),f=e.i(70498),p=e.i(49578),h=e.i(21053);let y="0x556f1830",m={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function w(e,a){let{blockNumber:r,blockTag:s,data:o,to:i}=a,{args:h}=(0,d.decodeErrorResult)({data:o,abi:[m]}),[y,w,g,v,O]=h;try{if(!function(e,t){if(!(0,f.isAddress)(e))throw new u.InvalidAddressError({address:e});if(!(0,f.isAddress)(t))throw new u.InvalidAddressError({address:t});return e.toLowerCase()===t.toLowerCase()}(i,y))throw new c({sender:y,to:i});let a=await b({data:g,sender:y,urls:w}),{data:n}=await (0,t.call)(e,{blockNumber:r,blockTag:s,data:(0,p.concat)([v,(0,l.encodeAbiParameters)([{type:"bytes"},{type:"bytes"}],[a,O])]),to:i});return n}catch(e){throw new n({callbackSelector:v,cause:e,data:o,extraData:O,sender:y,urls:w})}}async function b(e){let{data:t,sender:r,urls:s}=e,n=Error("An unknown error occurred.");for(let e=0;e<s.length;e++){let d=s[e],l=d.includes("{data}")?"GET":"POST",u="POST"===l?{data:t,sender:r}:void 0;try{var c;let e,s=await fetch(d.replace("{sender}",r).replace("{data}",t),{body:JSON.stringify(u),method:l});if(e=(null==(c=s.headers.get("Content-Type"))?void 0:c.startsWith("application/json"))?(await s.json()).data:await s.text(),!s.ok){n=new i.HttpRequestError({body:u,details:(null==e?void 0:e.error)?(0,a.stringify)(e.error):s.statusText,headers:s.headers,status:s.status,url:d});continue}if(!(0,h.isHex)(e)){n=new o({result:e,url:d});continue}return e}catch(e){n=new i.HttpRequestError({body:u,details:e.message,url:d})}}throw n}}]);
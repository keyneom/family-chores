(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9854,(e,t,a)=>{t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},7928,(e,t,a)=>{let n,i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];a.getSymbolSize=function(e){if(!e)throw Error('"version" cannot be null or undefined');if(e<1||e>40)throw Error('"version" should be in range from 1 to 40');return 4*e+17},a.getSymbolTotalCodewords=function(e){return i[e]},a.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},a.setToSJISFunction=function(e){if("function"!=typeof e)throw Error('"toSJISFunc" is not a valid function.');n=e},a.isKanjiModeEnabled=function(){return void 0!==n},a.toSJIS=function(e){return n(e)}},715,(e,t,a)=>{a.L={bit:1},a.M={bit:0},a.Q={bit:3},a.H={bit:2},a.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},a.from=function(e,t){if(a.isValid(e))return e;try{if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return a.L;case"m":case"medium":return a.M;case"q":case"quartile":return a.Q;case"h":case"high":return a.H;default:throw Error("Unknown EC Level: "+e)}}catch(e){return t}}},3703,(e,t,a)=>{function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){let t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(let a=0;a<t;a++)this.putBit((e>>>t-a-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},t.exports=n},9307,(e,t,a)=>{function n(e){if(!e||e<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}n.prototype.set=function(e,t,a,n){let i=e*this.size+t;this.data[i]=a,n&&(this.reservedBit[i]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,a){this.data[e*this.size+t]^=a},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},t.exports=n},8487,(e,t,a)=>{let n=e.r(7928).getSymbolSize;a.getRowColCoords=function(e){if(1===e)return[];let t=Math.floor(e/7)+2,a=n(e),i=145===a?26:2*Math.ceil((a-13)/(2*t-2)),r=[a-7];for(let e=1;e<t-1;e++)r[e]=r[e-1]-i;return r.push(6),r.reverse()},a.getPositions=function(e){let t=[],n=a.getRowColCoords(e),i=n.length;for(let e=0;e<i;e++)for(let a=0;a<i;a++)(0!==e||0!==a)&&(0!==e||a!==i-1)&&(e!==i-1||0!==a)&&t.push([n[e],n[a]]);return t}},9315,(e,t,a)=>{let n=e.r(7928).getSymbolSize;a.getPositions=function(e){let t=n(e);return[[0,0],[t-7,0],[0,t-7]]}},500,(e,t,a)=>{a.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};let n={N1:3,N2:3,N3:40,N4:10};a.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},a.from=function(e){return a.isValid(e)?parseInt(e,10):void 0},a.getPenaltyN1=function(e){let t=e.size,a=0,i=0,r=0,s=null,o=null;for(let l=0;l<t;l++){i=r=0,s=o=null;for(let d=0;d<t;d++){let t=e.get(l,d);t===s?i++:(i>=5&&(a+=n.N1+(i-5)),s=t,i=1),(t=e.get(d,l))===o?r++:(r>=5&&(a+=n.N1+(r-5)),o=t,r=1)}i>=5&&(a+=n.N1+(i-5)),r>=5&&(a+=n.N1+(r-5))}return a},a.getPenaltyN2=function(e){let t=e.size,a=0;for(let n=0;n<t-1;n++)for(let i=0;i<t-1;i++){let t=e.get(n,i)+e.get(n,i+1)+e.get(n+1,i)+e.get(n+1,i+1);(4===t||0===t)&&a++}return a*n.N2},a.getPenaltyN3=function(e){let t=e.size,a=0,i=0,r=0;for(let n=0;n<t;n++){i=r=0;for(let s=0;s<t;s++)i=i<<1&2047|e.get(n,s),s>=10&&(1488===i||93===i)&&a++,r=r<<1&2047|e.get(s,n),s>=10&&(1488===r||93===r)&&a++}return a*n.N3},a.getPenaltyN4=function(e){let t=0,a=e.data.length;for(let n=0;n<a;n++)t+=e.data[n];return Math.abs(Math.ceil(100*t/a/5)-10)*n.N4},a.applyMask=function(e,t){let n=t.size;for(let i=0;i<n;i++)for(let r=0;r<n;r++)t.isReserved(r,i)||t.xor(r,i,function(e,t,n){switch(e){case a.Patterns.PATTERN000:return(t+n)%2==0;case a.Patterns.PATTERN001:return t%2==0;case a.Patterns.PATTERN010:return n%3==0;case a.Patterns.PATTERN011:return(t+n)%3==0;case a.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case a.Patterns.PATTERN101:return t*n%2+t*n%3==0;case a.Patterns.PATTERN110:return(t*n%2+t*n%3)%2==0;case a.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw Error("bad maskPattern:"+e)}}(e,r,i))},a.getBestMask=function(e,t){let n=Object.keys(a.Patterns).length,i=0,r=1/0;for(let s=0;s<n;s++){t(s),a.applyMask(s,e);let n=a.getPenaltyN1(e)+a.getPenaltyN2(e)+a.getPenaltyN3(e)+a.getPenaltyN4(e);a.applyMask(s,e),n<r&&(r=n,i=s)}return i}},5188,(e,t,a)=>{let n=e.r(715),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];a.getBlocksCount=function(e,t){switch(t){case n.L:return i[(e-1)*4+0];case n.M:return i[(e-1)*4+1];case n.Q:return i[(e-1)*4+2];case n.H:return i[(e-1)*4+3];default:return}},a.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return r[(e-1)*4+0];case n.M:return r[(e-1)*4+1];case n.Q:return r[(e-1)*4+2];case n.H:return r[(e-1)*4+3];default:return}}},5341,(e,t,a)=>{let n=new Uint8Array(512),i=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)n[t]=e,i[e]=t,256&(e<<=1)&&(e^=285);for(let e=255;e<512;e++)n[e]=n[e-255]}(),a.log=function(e){if(e<1)throw Error("log("+e+")");return i[e]},a.exp=function(e){return n[e]},a.mul=function(e,t){return 0===e||0===t?0:n[i[e]+i[t]]}},9256,(e,t,a)=>{let n=e.r(5341);a.mul=function(e,t){let a=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let r=0;r<t.length;r++)a[i+r]^=n.mul(e[i],t[r]);return a},a.mod=function(e,t){let a=new Uint8Array(e);for(;a.length-t.length>=0;){let e=a[0];for(let i=0;i<t.length;i++)a[i]^=n.mul(t[i],e);let i=0;for(;i<a.length&&0===a[i];)i++;a=a.slice(i)}return a},a.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=a.mul(t,new Uint8Array([1,n.exp(i)]));return t}},2976,(e,t,a)=>{let n=e.r(9256);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=n.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let a=n.mod(t,this.genPoly),i=this.degree-a.length;if(i>0){let e=new Uint8Array(this.degree);return e.set(a,i),e}return a},t.exports=i},6045,(e,t,a)=>{a.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},9774,(e,t,a)=>{let n="[0-9]+",i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",r="(?:(?![A-Z0-9 $%*+\\-./:]|"+(i=i.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";a.KANJI=RegExp(i,"g"),a.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),a.BYTE=RegExp(r,"g"),a.NUMERIC=RegExp(n,"g"),a.ALPHANUMERIC=RegExp("[A-Z $%*+\\-./:]+","g");let s=RegExp("^"+i+"$"),o=RegExp("^"+n+"$"),l=RegExp("^[A-Z0-9 $%*+\\-./:]+$");a.testKanji=function(e){return s.test(e)},a.testNumeric=function(e){return o.test(e)},a.testAlphanumeric=function(e){return l.test(e)}},8023,(e,t,a)=>{let n=e.r(6045),i=e.r(9774);a.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},a.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},a.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},a.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},a.MIXED={bit:-1},a.getCharCountIndicator=function(e,t){if(!e.ccBits)throw Error("Invalid mode: "+e);if(!n.isValid(t))throw Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},a.getBestModeForData=function(e){return i.testNumeric(e)?a.NUMERIC:i.testAlphanumeric(e)?a.ALPHANUMERIC:i.testKanji(e)?a.KANJI:a.BYTE},a.toString=function(e){if(e&&e.id)return e.id;throw Error("Invalid mode")},a.isValid=function(e){return e&&e.bit&&e.ccBits},a.from=function(e,t){if(a.isValid(e))return e;try{if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return a.NUMERIC;case"alphanumeric":return a.ALPHANUMERIC;case"kanji":return a.KANJI;case"byte":return a.BYTE;default:throw Error("Unknown mode: "+e)}}catch(e){return t}}},7527,(e,t,a)=>{let n=e.r(7928),i=e.r(5188),r=e.r(715),s=e.r(8023),o=e.r(6045),l=n.getBCHDigit(7973);function d(e,t){return s.getCharCountIndicator(e,t)+4}a.from=function(e,t){return o.isValid(e)?parseInt(e,10):t},a.getCapacity=function(e,t,a){if(!o.isValid(e))throw Error("Invalid QR Code version");void 0===a&&(a=s.BYTE);let r=(n.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t))*8;if(a===s.MIXED)return r;let l=r-d(a,e);switch(a){case s.NUMERIC:return Math.floor(l/10*3);case s.ALPHANUMERIC:return Math.floor(l/11*2);case s.KANJI:return Math.floor(l/13);case s.BYTE:default:return Math.floor(l/8)}},a.getBestVersionForData=function(e,t){let n,i=r.from(t,r.M);if(Array.isArray(e)){if(e.length>1){for(let t=1;t<=40;t++)if(function(e,t){let a=0;return e.forEach(function(e){let n=d(e.mode,t);a+=n+e.getBitsLength()}),a}(e,t)<=a.getCapacity(t,i,s.MIXED))return t;return}if(0===e.length)return 1;n=e[0]}else n=e;return function(e,t,n){for(let i=1;i<=40;i++)if(t<=a.getCapacity(i,n,e))return i}(n.mode,n.getLength(),i)},a.getEncodedBits=function(e){if(!o.isValid(e)||e<7)throw Error("Invalid QR Code version");let t=e<<12;for(;n.getBCHDigit(t)-l>=0;)t^=7973<<n.getBCHDigit(t)-l;return e<<12|t}},3693,(e,t,a)=>{let n=e.r(7928),i=n.getBCHDigit(1335);a.getEncodedBits=function(e,t){let a=e.bit<<3|t,r=a<<10;for(;n.getBCHDigit(r)-i>=0;)r^=1335<<n.getBCHDigit(r)-i;return(a<<10|r)^21522}},9092,(e,t,a)=>{let n=e.r(8023);function i(e){this.mode=n.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t,a;for(t=0;t+3<=this.data.length;t+=3)a=parseInt(this.data.substr(t,3),10),e.put(a,10);let n=this.data.length-t;n>0&&(a=parseInt(this.data.substr(t),10),e.put(a,3*n+1))},t.exports=i},9579,(e,t,a)=>{let n=e.r(8023),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(e){this.mode=n.ALPHANUMERIC,this.data=e}r.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let a=45*i.indexOf(this.data[t]);a+=i.indexOf(this.data[t+1]),e.put(a,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},t.exports=r},8541,(e,t,a)=>{let n=e.r(8023);function i(e){this.mode=n.BYTE,"string"==typeof e?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(let t=0,a=this.data.length;t<a;t++)e.put(this.data[t],8)},t.exports=i},9490,(e,t,a)=>{let n=e.r(8023),i=e.r(7928);function r(e){this.mode=n.KANJI,this.data=e}r.getBitsLength=function(e){return 13*e},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let a=i.toSJIS(this.data[t]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");a=(a>>>8&255)*192+(255&a),e.put(a,13)}},t.exports=r},8488,(e,t,a)=>{"use strict";var n={single_source_shortest_paths:function(e,t,a){var i,r,s,o,l,d,h,c={},u={};u[t]=0;var f=n.PriorityQueue.make();for(f.push(t,0);!f.empty();)for(s in r=(i=f.pop()).value,o=i.cost,l=e[r]||{})l.hasOwnProperty(s)&&(d=o+l[s],h=u[s],(void 0===u[s]||h>d)&&(u[s]=d,f.push(s,d),c[s]=r));if(void 0!==a&&void 0===u[a])throw Error("Could not find a path from "+t+" to "+a+".");return c},extract_shortest_path_from_predecessor_list:function(e,t){for(var a=[],n=t;n;)a.push(n),e[n],n=e[n];return a.reverse(),a},find_path:function(e,t,a){var i=n.single_source_shortest_paths(e,t,a);return n.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(e){var t,a=n.PriorityQueue,i={};for(t in e=e||{},a)a.hasOwnProperty(t)&&(i[t]=a[t]);return i.queue=[],i.sorter=e.sorter||a.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){this.queue.push({value:e,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=n},6540,(e,t,a)=>{let n=e.r(8023),i=e.r(9092),r=e.r(9579),s=e.r(8541),o=e.r(9490),l=e.r(9774),d=e.r(7928),h=e.r(8488);function c(e){return unescape(encodeURIComponent(e)).length}function u(e,t,a){let n,i=[];for(;null!==(n=e.exec(a));)i.push({data:n[0],index:n.index,mode:t,length:n[0].length});return i}function f(e){let t,a,i=u(l.NUMERIC,n.NUMERIC,e),r=u(l.ALPHANUMERIC,n.ALPHANUMERIC,e);return d.isKanjiModeEnabled()?(t=u(l.BYTE,n.BYTE,e),a=u(l.KANJI,n.KANJI,e)):(t=u(l.BYTE_KANJI,n.BYTE,e),a=[]),i.concat(r,t,a).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function g(e,t){switch(t){case n.NUMERIC:return i.getBitsLength(e);case n.ALPHANUMERIC:return r.getBitsLength(e);case n.KANJI:return o.getBitsLength(e);case n.BYTE:return s.getBitsLength(e)}}function m(e,t){let a,l=n.getBestModeForData(e);if((a=n.from(t,l))!==n.BYTE&&a.bit<l.bit)throw Error('"'+e+'" cannot be encoded with mode '+n.toString(a)+".\n Suggested mode is: "+n.toString(l));switch(a===n.KANJI&&!d.isKanjiModeEnabled()&&(a=n.BYTE),a){case n.NUMERIC:return new i(e);case n.ALPHANUMERIC:return new r(e);case n.KANJI:return new o(e);case n.BYTE:return new s(e)}}a.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(m(t,null)):t.data&&e.push(m(t.data,t.mode)),e},[])},a.fromString=function(e,t){let i=function(e,t){let a={},i={start:{}},r=["start"];for(let s=0;s<e.length;s++){let o=e[s],l=[];for(let e=0;e<o.length;e++){let d=o[e],h=""+s+e;l.push(h),a[h]={node:d,lastCount:0},i[h]={};for(let e=0;e<r.length;e++){let s=r[e];a[s]&&a[s].node.mode===d.mode?(i[s][h]=g(a[s].lastCount+d.length,d.mode)-g(a[s].lastCount,d.mode),a[s].lastCount+=d.length):(a[s]&&(a[s].lastCount=d.length),i[s][h]=g(d.length,d.mode)+4+n.getCharCountIndicator(d.mode,t))}}r=l}for(let e=0;e<r.length;e++)i[r[e]].end=0;return{map:i,table:a}}(function(e){let t=[];for(let a=0;a<e.length;a++){let i=e[a];switch(i.mode){case n.NUMERIC:t.push([i,{data:i.data,mode:n.ALPHANUMERIC,length:i.length},{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.ALPHANUMERIC:t.push([i,{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.KANJI:t.push([i,{data:i.data,mode:n.BYTE,length:c(i.data)}]);break;case n.BYTE:t.push([{data:i.data,mode:n.BYTE,length:c(i.data)}])}}return t}(f(e,d.isKanjiModeEnabled())),t),r=h.find_path(i.map,"start","end"),s=[];for(let e=1;e<r.length-1;e++)s.push(i.table[r[e]].node);return a.fromArray(s.reduce(function(e,t){let a=e.length-1>=0?e[e.length-1]:null;return a&&a.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},a.rawSplit=function(e){return a.fromArray(f(e,d.isKanjiModeEnabled()))}},4054,(e,t,a)=>{let n=e.r(7928),i=e.r(715),r=e.r(3703),s=e.r(9307),o=e.r(8487),l=e.r(9315),d=e.r(500),h=e.r(5188),c=e.r(2976),u=e.r(7527),f=e.r(3693),g=e.r(8023),m=e.r(6540);function p(e,t,a){let n,i,r=e.size,s=f.getEncodedBits(t,a);for(n=0;n<15;n++)i=(s>>n&1)==1,n<6?e.set(n,8,i,!0):n<8?e.set(n+1,8,i,!0):e.set(r-15+n,8,i,!0),n<8?e.set(8,r-n-1,i,!0):n<9?e.set(8,15-n-1+1,i,!0):e.set(8,15-n-1,i,!0);e.set(r-8,8,1,!0)}a.create=function(e,t){let a,f;if(void 0===e||""===e)throw Error("No input text");let _=i.M;return void 0!==t&&(_=i.from(t.errorCorrectionLevel,i.M),a=u.from(t.version),f=d.from(t.maskPattern),t.toSJISFunc&&n.setToSJISFunction(t.toSJISFunc)),function(e,t,a,i){let f;if(Array.isArray(e))f=m.fromArray(e);else if("string"==typeof e){let n=t;if(!n){let t=m.rawSplit(e);n=u.getBestVersionForData(t,a)}f=m.fromString(e,n||40)}else throw Error("Invalid data");let _=u.getBestVersionForData(f,a);if(!_)throw Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<_)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+_+".\n")}else t=_;let y=function(e,t,a){let i=new r;a.forEach(function(t){i.put(t.mode.bit,4),i.put(t.getLength(),g.getCharCountIndicator(t.mode,e)),t.write(i)});let s=(n.getSymbolTotalCodewords(e)-h.getTotalCodewordsCount(e,t))*8;for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);let o=(s-i.getLengthInBits())/8;for(let e=0;e<o;e++)i.put(e%2?17:236,8);return function(e,t,a){let i,r,s=n.getSymbolTotalCodewords(t),o=s-h.getTotalCodewordsCount(t,a),l=h.getBlocksCount(t,a),d=s%l,u=l-d,f=Math.floor(s/l),g=Math.floor(o/l),m=g+1,p=f-g,_=new c(p),y=0,v=Array(l),w=Array(l),b=0,x=new Uint8Array(e.buffer);for(let e=0;e<l;e++){let t=e<u?g:m;v[e]=x.slice(y,y+t),w[e]=_.encode(v[e]),y+=t,b=Math.max(b,t)}let k=new Uint8Array(s),j=0;for(i=0;i<b;i++)for(r=0;r<l;r++)i<v[r].length&&(k[j++]=v[r][i]);for(i=0;i<p;i++)for(r=0;r<l;r++)k[j++]=w[r][i];return k}(i,e,t)}(t,a,f),v=new s(n.getSymbolSize(t));!function(e,t){let a=e.size,n=l.getPositions(t);for(let t=0;t<n.length;t++){let i=n[t][0],r=n[t][1];for(let t=-1;t<=7;t++)if(!(i+t<=-1)&&!(a<=i+t))for(let n=-1;n<=7;n++)r+n<=-1||a<=r+n||(t>=0&&t<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===t||6===t)||t>=2&&t<=4&&n>=2&&n<=4?e.set(i+t,r+n,!0,!0):e.set(i+t,r+n,!1,!0))}}(v,t);let w=v.size;for(let e=8;e<w-8;e++){let t=e%2==0;v.set(e,6,t,!0),v.set(6,e,t,!0)}return!function(e,t){let a=o.getPositions(t);for(let t=0;t<a.length;t++){let n=a[t][0],i=a[t][1];for(let t=-2;t<=2;t++)for(let a=-2;a<=2;a++)-2===t||2===t||-2===a||2===a||0===t&&0===a?e.set(n+t,i+a,!0,!0):e.set(n+t,i+a,!1,!0)}}(v,t),p(v,a,0),t>=7&&function(e,t){let a,n,i,r=e.size,s=u.getEncodedBits(t);for(let t=0;t<18;t++)a=Math.floor(t/3),n=t%3+r-8-3,i=(s>>t&1)==1,e.set(a,n,i,!0),e.set(n,a,i,!0)}(v,t),!function(e,t){let a=e.size,n=-1,i=a-1,r=7,s=0;for(let o=a-1;o>0;o-=2)for(6===o&&o--;;){for(let a=0;a<2;a++)if(!e.isReserved(i,o-a)){let n=!1;s<t.length&&(n=(t[s]>>>r&1)==1),e.set(i,o-a,n),-1==--r&&(s++,r=7)}if((i+=n)<0||a<=i){i-=n,n=-n;break}}}(v,y),isNaN(i)&&(i=d.getBestMask(v,p.bind(null,v,a))),d.applyMask(i,v),p(v,a,i),{modules:v,version:t,errorCorrectionLevel:a,maskPattern:i,segments:f}}(e,a,_,f)}},7683,(e,t,a)=>{function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");let a=parseInt(t.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:255&a,hex:"#"+t.slice(0,6).join("")}}a.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,a=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:a,scale:a?4:i,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},a.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},a.getImageWidth=function(e,t){let n=a.getScale(e,t);return Math.floor((e+2*t.margin)*n)},a.qrToImageData=function(e,t,n){let i=t.modules.size,r=t.modules.data,s=a.getScale(i,n),o=Math.floor((i+2*n.margin)*s),l=n.margin*s,d=[n.color.light,n.color.dark];for(let t=0;t<o;t++)for(let a=0;a<o;a++){let h=(t*o+a)*4,c=n.color.light;t>=l&&a>=l&&t<o-l&&a<o-l&&(c=d[+!!r[Math.floor((t-l)/s)*i+Math.floor((a-l)/s)]]),e[h++]=c.r,e[h++]=c.g,e[h++]=c.b,e[h]=c.a}}},2556,(e,t,a)=>{let n=e.r(7683);a.render=function(e,t,a){var i;let r=a,s=t;void 0!==r||t&&t.getContext||(r=t,t=void 0),t||(s=function(){try{return document.createElement("canvas")}catch(e){throw Error("You need to specify a canvas element")}}()),r=n.getOptions(r);let o=n.getImageWidth(e.modules.size,r),l=s.getContext("2d"),d=l.createImageData(o,o);return n.qrToImageData(d.data,e,r),i=s,l.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px",l.putImageData(d,0,0),s},a.renderToDataURL=function(e,t,n){let i=n;void 0!==i||t&&t.getContext||(i=t,t=void 0),i||(i={});let r=a.render(e,t,i),s=i.type||"image/png",o=i.rendererOpts||{};return r.toDataURL(s,o.quality)}},9801,(e,t,a)=>{let n=e.r(7683);function i(e,t){let a=e.a/255,n=t+'="'+e.hex+'"';return a<1?n+" "+t+'-opacity="'+a.toFixed(2).slice(1)+'"':n}function r(e,t,a){let n=e+t;return void 0!==a&&(n+=" "+a),n}a.render=function(e,t,a){let s=n.getOptions(t),o=e.modules.size,l=e.modules.data,d=o+2*s.margin,h=s.color.light.a?"<path "+i(s.color.light,"fill")+' d="M0 0h'+d+"v"+d+'H0z"/>':"",c="<path "+i(s.color.dark,"stroke")+' d="'+function(e,t,a){let n="",i=0,s=!1,o=0;for(let l=0;l<e.length;l++){let d=Math.floor(l%t),h=Math.floor(l/t);d||s||(s=!0),e[l]?(o++,l>0&&d>0&&e[l-1]||(n+=s?r("M",d+a,.5+h+a):r("m",i,0),i=0,s=!1),d+1<t&&e[l+1]||(n+=r("h",o),o=0)):i++}return n}(l,o,s.margin)+'"/>',u='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+('viewBox="0 0 '+d+" ")+d+'" shape-rendering="crispEdges">'+h+c+"</svg>\n";return"function"==typeof a&&a(null,u),u}},1797,(e,t,a)=>{let n=e.r(9854),i=e.r(4054),r=e.r(2556),s=e.r(9801);function o(e,t,a,r,s){let o=[].slice.call(arguments,1),l=o.length,d="function"==typeof o[l-1];if(!d&&!n())throw Error("Callback required as last argument");if(d){if(l<2)throw Error("Too few arguments provided");2===l?(s=a,a=t,t=r=void 0):3===l&&(t.getContext&&void 0===s?(s=r,r=void 0):(s=r,r=a,a=t,t=void 0))}else{if(l<1)throw Error("Too few arguments provided");return 1===l?(a=t,t=r=void 0):2!==l||t.getContext||(r=a,a=t,t=void 0),new Promise(function(n,s){try{let s=i.create(a,r);n(e(s,t,r))}catch(e){s(e)}})}try{let n=i.create(a,r);s(null,e(n,t,r))}catch(e){s(e)}}a.create=i.create,a.toCanvas=o.bind(null,r.render),a.toDataURL=o.bind(null,r.renderToDataURL),a.toString=o.bind(null,function(e,t,a){return s.render(e,a)})},3115,e=>{"use strict";let t,a,n,i,r;e.s(["default",()=>tJ],3115);var s=e.i(1398),o=e.i(1788),l=e.i(5134);function d(){let[e,t]=(0,o.useState)("");return(0,o.useEffect)(()=>{t(new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))},[]),(0,s.jsx)("span",{id:"currentDate",children:e})}function h(e){let{onSettingsClick:t,onSyncClick:a}=e;return(0,s.jsxs)("header",{children:[(0,s.jsx)("h1",{children:"🏠 Family Chores"}),(0,s.jsxs)("div",{className:"header-controls",children:[(0,s.jsx)("div",{className:"date-display",children:(0,s.jsx)(d,{})}),(0,s.jsx)("button",{id:"settingsBtn",className:"btn btn-primary",onClick:t,children:"⚙️ Settings"}),(0,s.jsx)("button",{id:"syncBtn",className:"btn btn-secondary",onClick:a,children:"📱 Sync"})]})]})}var c=e.i(6402);function u(e){let{open:t,onClose:a}=e,{state:n,dispatch:i}=(0,c.useChoresApp)(),[r,l]=(0,o.useState)(""),[d,h]=(0,o.useState)(""),[u,f]=(0,o.useState)(""),[g,m]=(0,o.useState)("#FFB6C1"),[p,_]=(0,o.useState)(1),[y,v]=(0,o.useState)(.5),[w,b]=(0,o.useState)("daily"),[x,k]=(0,o.useState)([]),[j,C]=(0,o.useState)(""),[S,E]=(0,o.useState)(""),[N,A]=(0,o.useState)("");return t?(0,s.jsx)("div",{className:"modal",style:{display:"block"},children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"⚙️ Settings"}),(0,s.jsx)("span",{className:"close",onClick:a,children:"×"})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsxs)("div",{className:"settings-section",children:[(0,s.jsx)("h3",{children:"🔒 Parent Settings"}),(0,s.jsxs)("div",{className:"parent-settings",children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"currentPin",children:"Current PIN:"}),(0,s.jsx)("input",{type:"password",id:"currentPin",placeholder:"Current PIN",maxLength:4,value:j,onChange:e=>C(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"newPin",children:"New PIN (4 digits):"}),(0,s.jsx)("input",{type:"password",id:"newPin",placeholder:"New 4-digit PIN",maxLength:4,value:S,onChange:e=>E(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{htmlFor:"confirmPin",children:"Confirm New PIN:"}),(0,s.jsx)("input",{type:"password",id:"confirmPin",placeholder:"Confirm PIN",maxLength:4,value:N,onChange:e=>A(e.target.value)}),(0,s.jsx)("button",{className:"btn btn-secondary",onClick:()=>S!==N?void alert("PINs do not match"):4===S.length&&/^\d{4}$/.test(S)?n.parentSettings.pin&&j!==n.parentSettings.pin?void alert("Current PIN is incorrect"):void(i({type:"UPDATE_PARENT_SETTINGS",payload:{pin:S}}),C(""),E(""),A(""),alert("PIN updated successfully")):void alert("PIN must be exactly 4 digits"),children:"Change PIN"})]}),(0,s.jsxs)("div",{className:"approval-settings",children:[(0,s.jsx)("h4",{children:"Require Parent Approval For:"}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox"})," Moving tasks between children"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox"})," Completing tasks early"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox"})," Marking any task complete"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox"})," Editing tasks and children"]})]})]})]}),(0,s.jsxs)("div",{className:"settings-section",children:[(0,s.jsx)("h3",{children:"👥 Children"}),(0,s.jsx)("div",{children:0===n.children.length?(0,s.jsx)("div",{className:"empty-state",children:"No children added yet. Add your first child below."}):n.children.map(e=>(0,s.jsxs)("div",{className:"child-item",children:[(0,s.jsx)("div",{className:"child-info",children:(0,s.jsx)("span",{className:"child-name",children:e.name})}),(0,s.jsx)("div",{className:"child-actions",children:(0,s.jsx)("button",{className:"btn btn-small btn-danger",onClick:()=>{i({type:"DELETE_CHILD",payload:e.id})},children:"Delete"})})]},e.id))}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("input",{type:"text",placeholder:"Child name",value:r,onChange:e=>l(e.target.value)}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:()=>{r.trim()&&(i({type:"ADD_CHILD",payload:{id:Date.now(),name:r.trim(),stars:0,money:0}}),l(""))},children:"Add Child"})]})]}),(0,s.jsxs)("div",{className:"settings-section",children:[(0,s.jsx)("h3",{children:"📝 Chores"}),(0,s.jsx)("div",{children:n.choreTemplates&&0!==n.choreTemplates.length?n.choreTemplates.map(e=>(0,s.jsxs)("div",{className:"chore-item",children:[(0,s.jsxs)("div",{className:"chore-info",children:[(0,s.jsxs)("span",{children:[e.emoji," ",e.name]}),(0,s.jsxs)("div",{style:{fontSize:"0.8rem",color:"#666"},children:["⭐ ",e.stars," | 💰 $",e.money," | ",e.recurrence]})]}),(0,s.jsx)("div",{className:"chore-actions",children:(0,s.jsx)("button",{className:"btn btn-small btn-danger",onClick:()=>{i({type:"DELETE_CHORE_TEMPLATE",payload:e.id})},children:"Delete"})})]},e.id)):(0,s.jsx)("div",{className:"empty-state",children:"No chore templates created yet. Add your first chore below."})}),(0,s.jsxs)("div",{className:"add-chore-form",children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("input",{type:"text",placeholder:"Chore name",value:d,onChange:e=>h(e.target.value)}),(0,s.jsx)("input",{type:"text",placeholder:"Emoji",maxLength:2,value:u,onChange:e=>f(e.target.value)}),(0,s.jsx)("input",{type:"color",value:g,onChange:e=>m(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("input",{type:"number",placeholder:"Stars",min:1,max:5,value:p,onChange:e=>_(Number(e.target.value))}),(0,s.jsx)("input",{type:"number",placeholder:"Money ($)",min:0,step:.25,value:y,onChange:e=>v(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"recurrence-group",children:[(0,s.jsx)("label",{htmlFor:"choreRecurrence",children:"Repeat:"}),(0,s.jsxs)("select",{id:"choreRecurrence",value:w,onChange:e=>b(e.target.value),children:[(0,s.jsx)("option",{value:"daily",children:"Daily"}),(0,s.jsx)("option",{value:"weekly",children:"Weekly"}),(0,s.jsx)("option",{value:"monthly",children:"Monthly"}),(0,s.jsx)("option",{value:"weekdays",children:"Weekdays Only"}),(0,s.jsx)("option",{value:"weekends",children:"Weekends Only"}),(0,s.jsx)("option",{value:"custom-days",children:"Specific Days"})]})]}),"custom-days"===w&&(0,s.jsxs)("div",{className:"custom-days",children:[(0,s.jsx)("label",{children:"Select days:"}),(0,s.jsx)("div",{className:"days-checkboxes",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e,t)=>(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:x.includes(t),onChange:e=>{e.target.checked?k([...x,t]):k(x.filter(e=>e!==t))}}),e]},t))})]}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:()=>{d.trim()&&(i({type:"ADD_CHORE_TEMPLATE",payload:{id:Date.now(),name:d.trim(),emoji:u||"📝",color:g,stars:p,money:y,recurrence:w,customDays:"custom-days"===w?x:void 0}}),h(""),f(""),m("#FFB6C1"),_(1),v(.5),b("daily"),k([]))},children:"Add Chore"})]})]})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{className:"btn btn-primary",onClick:()=>{a()},children:"Save Settings"}),(0,s.jsx)("button",{className:"btn btn-danger",onClick:()=>{confirm("Are you sure you want to reset all data? This cannot be undone.")&&i({type:"RESET_ALL_DATA"})},children:"Reset All Data"})]})]})}):null}function f(e){let{open:t,onClose:a,task:n,onSave:i}=e,[r,l]=o.default.useState(""),[d,h]=o.default.useState(""),[c,u]=o.default.useState("#cccccc"),[f,g]=o.default.useState(1),[m,p]=o.default.useState(0),[_,y]=o.default.useState("daily"),[v,w]=o.default.useState([]);return(o.default.useEffect(()=>{n&&(l(n.name),h(n.emoji),u(n.color),g(n.starReward),p(n.moneyReward),y(n.recurrence),w(n.customDays))},[n]),t&&n)?(0,s.jsx)("div",{className:"modal",style:{display:t?"block":"none"},children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"✏️ Edit Task"}),(0,s.jsx)("span",{className:"close",onClick:a,children:"×"})]}),(0,s.jsxs)("form",{className:"modal-body",onSubmit:e=>{e.preventDefault(),i({...n,name:r,emoji:d,color:c,starReward:f,moneyReward:m,recurrence:_,customDays:v})},children:[(0,s.jsxs)("label",{children:["Name:",(0,s.jsx)("input",{value:r,onChange:e=>l(e.target.value),required:!0})]}),(0,s.jsxs)("label",{children:["Emoji:",(0,s.jsx)("input",{value:d,onChange:e=>h(e.target.value),maxLength:2,required:!0})]}),(0,s.jsxs)("label",{children:["Color:",(0,s.jsx)("input",{type:"color",value:c,onChange:e=>u(e.target.value)})]}),(0,s.jsxs)("label",{children:["Star Reward:",(0,s.jsx)("input",{type:"number",value:f,min:0,onChange:e=>g(Number(e.target.value))})]}),(0,s.jsxs)("label",{children:["Money Reward:",(0,s.jsx)("input",{type:"number",value:m,min:0,step:.01,onChange:e=>p(Number(e.target.value))})]}),(0,s.jsxs)("label",{children:["Recurrence:",(0,s.jsxs)("select",{value:_,onChange:e=>y(e.target.value),children:[(0,s.jsx)("option",{value:"daily",children:"Daily"}),(0,s.jsx)("option",{value:"weekly",children:"Weekly"}),(0,s.jsx)("option",{value:"monthly",children:"Monthly"}),(0,s.jsx)("option",{value:"weekdays",children:"Weekdays Only"}),(0,s.jsx)("option",{value:"weekends",children:"Weekends Only"}),(0,s.jsx)("option",{value:"custom-days",children:"Specific Days"})]})]}),"custom-days"===_&&(0,s.jsxs)("div",{className:"custom-days",children:[(0,s.jsx)("label",{children:"Select days:"}),(0,s.jsx)("div",{className:"days-checkboxes",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e,t)=>(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:v.includes(t),onChange:e=>{e.target.checked?w([...v,t]):w(v.filter(e=>e!==t))}}),e]},t))})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Save"}),(0,s.jsx)("button",{className:"btn",type:"button",onClick:a,children:"Cancel"})]})]})]})}):null}function g(e){let{open:t,onClose:a,onAdd:n}=e,[i,r]=(0,o.useState)(""),[l,d]=(0,o.useState)(""),[h,c]=(0,o.useState)("#cccccc"),[u,f]=(0,o.useState)(1),[g,m]=(0,o.useState)(0);return t?(0,s.jsx)("div",{className:"modal-overlay",children:(0,s.jsxs)("div",{className:"modal",children:[(0,s.jsx)("h2",{children:"Add Task"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n({name:i,emoji:l,color:h,starReward:u,moneyReward:g}),r(""),d(""),c("#cccccc"),f(1),m(0),a()},children:[(0,s.jsxs)("label",{children:["Name:",(0,s.jsx)("input",{value:i,onChange:e=>r(e.target.value),required:!0})]}),(0,s.jsxs)("label",{children:["Emoji:",(0,s.jsx)("input",{value:l,onChange:e=>d(e.target.value),maxLength:2,required:!0})]}),(0,s.jsxs)("label",{children:["Color:",(0,s.jsx)("input",{type:"color",value:h,onChange:e=>c(e.target.value)})]}),(0,s.jsxs)("label",{children:["Star Reward:",(0,s.jsx)("input",{type:"number",value:u,min:0,onChange:e=>f(Number(e.target.value))})]}),(0,s.jsxs)("label",{children:["Money Reward:",(0,s.jsx)("input",{type:"number",value:g,min:0,step:.01,onChange:e=>m(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsx)("button",{type:"submit",children:"Add"}),(0,s.jsx)("button",{type:"button",onClick:a,children:"Cancel"})]})]})]})}):null}function m(e){let{open:t,onClose:a,message:n,onSuccess:i}=e,{state:r}=(0,c.useChoresApp)(),[l,d]=(0,o.useState)(""),[h,u]=(0,o.useState)("");if(!t)return null;let f=()=>{if(!r.parentSettings.pin){i(),a();return}l===r.parentSettings.pin?(i(),a(),d(""),u("")):(u("Incorrect PIN"),d(""))},g=()=>{d(""),u(""),a()};return(0,s.jsx)("div",{className:"modal",style:{display:"block"},children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"🔒 Parent Approval Required"}),(0,s.jsx)("span",{className:"close",onClick:g,children:"×"})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsx)("p",{children:n||"Enter parent PIN to continue:"}),(0,s.jsx)("div",{className:"pin-input",children:(0,s.jsx)("input",{type:"password",placeholder:"Enter 4-digit PIN",maxLength:4,value:l,onChange:e=>d(e.target.value),onKeyPress:e=>"Enter"===e.key&&f()})}),h&&(0,s.jsx)("div",{className:"error-message",children:h})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{className:"btn btn-primary",onClick:f,children:"Submit"}),(0,s.jsx)("button",{className:"btn btn-secondary",onClick:g,children:"Cancel"})]})]})})}function p(e){let{open:t,onClose:a,childId:n}=e,{dispatch:i}=(0,c.useChoresApp)(),[r,l]=(0,o.useState)(""),[d,h]=(0,o.useState)(""),[u,f]=(0,o.useState)("#FFB6C1"),[g,m]=(0,o.useState)(1),[p,_]=(0,o.useState)(.5),[y,v]=(0,o.useState)(new Date().toISOString().split("T")[0]),[w,b]=(0,o.useState)("any-child");return t?(0,s.jsx)("div",{className:"modal",style:{display:"block"},children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"➕ Add One-off Task"}),(0,s.jsx)("span",{className:"close",onClick:a,children:"×"})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{children:"Task Name:"}),(0,s.jsx)("input",{type:"text",placeholder:"Task name",value:r,onChange:e=>l(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{children:"Emoji:"}),(0,s.jsx)("input",{type:"text",placeholder:"Emoji",maxLength:2,value:d,onChange:e=>h(e.target.value)}),(0,s.jsx)("label",{children:"Color:"}),(0,s.jsx)("input",{type:"color",value:u,onChange:e=>f(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{children:"Star Reward:"}),(0,s.jsx)("input",{type:"number",min:1,max:5,value:g,onChange:e=>m(Number(e.target.value))}),(0,s.jsx)("label",{children:"Money Reward:"}),(0,s.jsx)("input",{type:"number",min:0,step:.25,value:p,onChange:e=>_(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{children:"Date:"}),(0,s.jsx)("input",{type:"date",value:y,onChange:e=>v(e.target.value)})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("label",{children:"Task Type:"}),(0,s.jsxs)("select",{value:w,onChange:e=>b(e.target.value),children:[(0,s.jsx)("option",{value:"any-child",children:"Any child can complete"}),(0,s.jsx)("option",{value:"first-come",children:"First child to claim gets it"}),(0,s.jsx)("option",{value:"all-children",children:"Each child can complete once"})]})]})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{className:"btn btn-primary",onClick:()=>{if(!r.trim())return;let e={id:Date.now(),name:r.trim(),emoji:d||"📝",color:u,starReward:g,moneyReward:p,date:y,type:w,assignedTo:"any-child"===w&&n?n:void 0};i({type:"ADD_ONE_OFF_TASK",payload:{date:y,task:e}}),l(""),h(""),f("#FFB6C1"),m(1),_(.5),v(new Date().toISOString().split("T")[0]),b("any-child"),a()},children:"Add Task"}),(0,s.jsx)("button",{className:"btn btn-secondary",onClick:a,children:"Cancel"})]})]})}):null}var _=e.i(1797);class y{static set WORKER_PATH(e){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static async hasCamera(){try{return!!(await y.listCameras(!1)).length}catch(e){return!1}}static async listCameras(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!navigator.mediaDevices)return[];let t=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind),a;try{e&&(await t()).every(e=>!e.label)&&(a=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(e){}try{return(await t()).map((e,t)=>({id:e.deviceId,label:e.label||(0===t?"Default Camera":"Camera ".concat(t+1))}))}finally{a&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),y._stopVideoStream(a))}}async hasFlash(){let e;try{if(this.$video.srcObject){if(!(this.$video.srcObject instanceof MediaStream))return!1;e=this.$video.srcObject}else e=(await this._getCameraStream()).stream;return"torch"in e.getVideoTracks()[0].getSettings()}catch(e){return!1}finally{e&&e!==this.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),y._stopVideoStream(e))}}isFlashOn(){return this._flashOn}async toggleFlash(){this._flashOn?await this.turnFlashOff():await this.turnFlashOn()}async turnFlashOn(){if(!this._flashOn&&!this._destroyed&&(this._flashOn=!0,this._active&&!this._paused))try{if(!await this.hasFlash())throw"No flash available";await this.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(e){throw this._flashOn=!1,e}}async turnFlashOff(){this._flashOn&&(this._flashOn=!1,await this._restartVideoStream())}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),y._postWorkerMessage(this._qrEnginePromise,"close")}async start(){if(this._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!this._active||this._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),this._active=!0,!document.hidden))if(this._paused=!1,this.$video.srcObject)await this.$video.play();else try{let{stream:e,facingMode:t}=await this._getCameraStream();!this._active||this._paused?y._stopVideoStream(e):(this._setVideoMirror(t),this.$video.srcObject=e,await this.$video.play(),this._flashOn&&(this._flashOn=!1,this.turnFlashOn().catch(()=>{})))}catch(e){if(!this._paused)throw this._active=!1,e}}stop(){this.pause(),this._active=!1}async pause(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._paused=!0,!this._active)return!0;this.$video.pause(),this.$overlay&&(this.$overlay.style.display="none");let t=()=>{this.$video.srcObject instanceof MediaStream&&(y._stopVideoStream(this.$video.srcObject),this.$video.srcObject=null)};return e?(t(),!0):(await new Promise(e=>setTimeout(e,300)),!!this._paused&&(t(),!0))}async setCamera(e){e!==this._preferredCamera&&(this._preferredCamera=e,await this._restartVideoStream())}static async scanImage(e,t,a,n){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s,o=!1;t&&("scanRegion"in t||"qrEngine"in t||"canvas"in t||"disallowCanvasResizing"in t||"alsoTryWithoutScanRegion"in t||"returnDetailedScanResult"in t)?(s=t.scanRegion,a=t.qrEngine,n=t.canvas,i=t.disallowCanvasResizing||!1,r=t.alsoTryWithoutScanRegion||!1,o=!0):t||a||n||i||r?console.warn("You're using a deprecated api for scanImage which will be removed in the future."):console.warn("Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),t=!!a;try{let l,d,h;if([a,l]=await Promise.all([a||y.createQrEngine(),y._loadImage(e)]),[n,d]=y._drawToCanvas(l,s,n,i),a instanceof Worker){let e=a;t||y._postWorkerMessageSync(e,"inversionMode","both"),h=await new Promise((t,a)=>{let i,r,o,l=-1;r=n=>{n.data.id===l&&(e.removeEventListener("message",r),e.removeEventListener("error",o),clearTimeout(i),null!==n.data.data?t({data:n.data.data,cornerPoints:y._convertPoints(n.data.cornerPoints,s)}):a(y.NO_QR_CODE_FOUND))},o=t=>{e.removeEventListener("message",r),e.removeEventListener("error",o),clearTimeout(i),a("Scanner error: "+(t?t.message||t:"Unknown Error"))},e.addEventListener("message",r),e.addEventListener("error",o),i=setTimeout(()=>o("timeout"),1e4);let h=d.getImageData(0,0,n.width,n.height);l=y._postWorkerMessageSync(e,"decode",h,[h.data.buffer])})}else h=await Promise.race([new Promise((e,t)=>window.setTimeout(()=>t("Scanner error: timeout"),1e4)),(async()=>{try{var[t]=await a.detect(n);if(!t)throw y.NO_QR_CODE_FOUND;return{data:t.rawValue,cornerPoints:y._convertPoints(t.cornerPoints,s)}}catch(a){if(t=a.message||a,/not implemented|service unavailable/.test(t))return y._disableBarcodeDetector=!0,y.scanImage(e,{scanRegion:s,canvas:n,disallowCanvasResizing:i,alsoTryWithoutScanRegion:r});throw"Scanner error: ".concat(t)}})()]);return o?h:h.data}catch(l){if(!s||!r)throw l;let t=await y.scanImage(e,{qrEngine:a,canvas:n,disallowCanvasResizing:i});return o?t:t.data}finally{t||y._postWorkerMessage(a,"close")}}setGrayscaleWeights(e,t,a){let n=!(arguments.length>3)||void 0===arguments[3]||arguments[3];y._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:e,green:t,blue:a,useIntegerApproximation:n})}setInversionMode(e){y._postWorkerMessage(this._qrEnginePromise,"inversionMode",e)}static async createQrEngine(t){if(t&&console.warn("Specifying a worker path is not required and not supported anymore."),t=()=>e.A(5630).then(e=>e.createWorker()),!(!y._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(await BarcodeDetector.getSupportedFormats()).includes("qr_code")))return t();let a=navigator.userAgentData;return a&&a.brands.some(e=>{let{brand:t}=e;return/Chromium/i.test(t)})&&/mac ?OS/i.test(a.platform)&&await a.getHighEntropyValues(["architecture","platformVersion"]).then(e=>{let{architecture:t,platformVersion:a}=e;return/arm/i.test(t||"arm")&&13<=parseInt(a||"13")}).catch(()=>!0)?t():new BarcodeDetector({formats:["qr_code"]})}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(e){let t=Math.round(2/3*Math.min(e.videoWidth,e.videoHeight));return{x:Math.round((e.videoWidth-t)/2),y:Math.round((e.videoHeight-t)/2),width:t,height:t,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var e=this.$video,t=e.videoWidth,a=e.videoHeight,n=e.offsetWidth,i=e.offsetHeight,r=e.offsetLeft,s=e.offsetTop,o=window.getComputedStyle(e),l=o.objectFit,d=t/a,h=n/i;switch(l){case"none":var c=t,u=a;break;case"fill":c=n,u=i;break;default:("cover"===l?d>h:d<h)?c=(u=i)*d:u=(c=n)/d,"scale-down"===l&&(c=Math.min(c,t),u=Math.min(u,a))}var[f,g]=o.objectPosition.split(" ").map((e,t)=>{let a=parseFloat(e);return e.endsWith("%")?(t?i-u:n-c)*a/100:a});o=this._scanRegion.width||t,h=this._scanRegion.height||a,l=this._scanRegion.x||0;var m=this._scanRegion.y||0;(d=this.$overlay.style).width="".concat(o/t*c,"px"),d.height="".concat(h/a*u,"px"),d.top="".concat(s+g+m/a*u,"px"),a=/scaleX\(-1\)/.test(e.style.transform),d.left="".concat(r+(a?n-f-c:f)+(a?t-l-o:l)/t*c,"px"),d.transform=e.style.transform}})}static _convertPoints(e,t){if(!t)return e;let a=t.x||0,n=t.y||0,i=t.width&&t.downScaledWidth?t.width/t.downScaledWidth:1;for(let r of(t=t.height&&t.downScaledHeight?t.height/t.downScaledHeight:1,e))r.x=r.x*i+a,r.y=r.y*t+n;return e}_scanFrame(){!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)(async()=>{if(!(1>=this.$video.readyState)){var e=Date.now()-this._lastScanTimestamp,t=1e3/this._maxScansPerSecond;e<t&&await new Promise(a=>setTimeout(a,t-e)),this._lastScanTimestamp=Date.now();try{var a=await y.scanImage(this.$video,{scanRegion:this._scanRegion,qrEngine:this._qrEnginePromise,canvas:this.$canvas})}catch(e){if(!this._active)return;this._onDecodeError(e)}!y._disableBarcodeDetector||await this._qrEnginePromise instanceof Worker||(this._qrEnginePromise=y.createQrEngine()),a?(this._onDecode?this._onDecode(a):this._legacyOnDecode&&this._legacyOnDecode(a.data),this.$codeOutlineHighlight&&(clearTimeout(this._codeOutlineHighlightRemovalTimeout),this._codeOutlineHighlightRemovalTimeout=void 0,this.$codeOutlineHighlight.setAttribute("viewBox","".concat(this._scanRegion.x||0," ")+"".concat(this._scanRegion.y||0," ")+"".concat(this._scanRegion.width||this.$video.videoWidth," ")+"".concat(this._scanRegion.height||this.$video.videoHeight)),this.$codeOutlineHighlight.firstElementChild.setAttribute("points",a.cornerPoints.map(e=>{let{x:t,y:a}=e;return"".concat(t,",").concat(a)}).join(" ")),this.$codeOutlineHighlight.style.display="")):this.$codeOutlineHighlight&&!this._codeOutlineHighlightRemovalTimeout&&(this._codeOutlineHighlightRemovalTimeout=setTimeout(()=>this.$codeOutlineHighlight.style.display="none",100))}this._scanFrame()})}_onDecodeError(e){e!==y.NO_QR_CODE_FOUND&&console.log(e)}async _getCameraStream(){if(!navigator.mediaDevices)throw"Camera not found.";let e=/^(environment|user)$/.test(this._preferredCamera)?"facingMode":"deviceId",t=[{width:{min:1024}},{width:{min:768}},{}];for(let a of[...t.map(t=>Object.assign({},t,{[e]:{exact:this._preferredCamera}})),...t])try{let e=await navigator.mediaDevices.getUserMedia({video:a,audio:!1}),t=this._getFacingMode(e)||(a.facingMode?this._preferredCamera:"environment"===this._preferredCamera?"user":"environment");return{stream:e,facingMode:t}}catch(e){}throw"Camera not found."}async _restartVideoStream(){let e=this._paused;await this.pause(!0)&&!e&&this._active&&await this.start()}static _stopVideoStream(e){for(let t of e.getTracks())t.stop(),e.removeTrack(t)}_setVideoMirror(e){this.$video.style.transform="scaleX("+("user"===e?-1:1)+")"}_getFacingMode(e){return(e=e.getVideoTracks()[0])?/rear|back|environment/i.test(e.label)?"environment":/front|user|face/i.test(e.label)?"user":null:null}static _drawToCanvas(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];a=a||document.createElement("canvas");let i=t&&t.x?t.x:0,r=t&&t.y?t.y:0,s=t&&t.width?t.width:e.videoWidth||e.width,o=t&&t.height?t.height:e.videoHeight||e.height;return n||(n=t&&t.downScaledWidth?t.downScaledWidth:s,t=t&&t.downScaledHeight?t.downScaledHeight:o,a.width!==n&&(a.width=n),a.height!==t&&(a.height=t)),(t=a.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,t.drawImage(e,i,r,s,o,0,0,a.width,a.height),[a,t]}static async _loadImage(e){if(e instanceof Image)return await y._awaitImageLoad(e),e;if(e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e instanceof SVGImageElement||"OffscreenCanvas"in window&&e instanceof OffscreenCanvas||"ImageBitmap"in window&&e instanceof ImageBitmap)return e;if(e instanceof File||e instanceof Blob||e instanceof URL||"string"==typeof e){let t=new Image;t.src=e instanceof File||e instanceof Blob?URL.createObjectURL(e):e.toString();try{return await y._awaitImageLoad(t),t}finally{(e instanceof File||e instanceof Blob)&&URL.revokeObjectURL(t.src)}}throw"Unsupported image type."}static async _awaitImageLoad(e){e.complete&&0!==e.naturalWidth||await new Promise((t,a)=>{let n=i=>{e.removeEventListener("load",n),e.removeEventListener("error",n),i instanceof ErrorEvent?a("Image load error"):t()};e.addEventListener("load",n),e.addEventListener("error",n)})}static async _postWorkerMessage(e,t,a,n){return y._postWorkerMessageSync(await e,t,a,n)}static _postWorkerMessageSync(e,t,a,n){if(!(e instanceof Worker))return -1;let i=y._workerMessageId++;return e.postMessage({id:i,type:t,data:a},n),i}constructor(e,t,a,n,i){this._legacyCanvasSize=y.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=e,this.$canvas=document.createElement("canvas"),a&&"object"==typeof a?this._onDecode=t:(a||n||i?console.warn("You're using a deprecated version of the QrScanner constructor which will be removed in the future"):console.warn("Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=t),t="object"==typeof a?a:{},this._onDecodeError=t.onDecodeError||("function"==typeof a?a:this._onDecodeError),this._calculateScanRegion=t.calculateScanRegion||("function"==typeof n?n:this._calculateScanRegion),this._preferredCamera=t.preferredCamera||i||this._preferredCamera,this._legacyCanvasSize="number"==typeof a?a:"number"==typeof n?n:this._legacyCanvasSize,this._maxScansPerSecond=t.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),e.disablePictureInPicture=!0,e.playsInline=!0,e.muted=!0;let r=!1;if(e.hidden&&(e.hidden=!1,r=!0),document.body.contains(e)||(document.body.appendChild(e),r=!0),a=e.parentElement,t.highlightScanRegion||t.highlightCodeOutline){if(n=!!t.overlay,this.$overlay=t.overlay||document.createElement("div"),(i=this.$overlay.style).position="absolute",i.display="none",i.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!n&&t.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(e){}a.insertBefore(this.$overlay,this.$video.nextSibling)}t.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(e),requestAnimationFrame(()=>{let t=window.getComputedStyle(e);"none"===t.display&&(e.style.setProperty("display","block","important"),r=!0),"visible"!==t.visibility&&(e.style.setProperty("visibility","visible","important"),r=!0),r&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),e.style.opacity="0",e.style.width="0",e.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),e.addEventListener("play",this._onPlay),e.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=y.createQrEngine()}}function v(e){let t=e.length;for(;--t>=0;)e[t]=0}y.DEFAULT_CANVAS_SIZE=400,y.NO_QR_CODE_FOUND="No QR code found",y._disableBarcodeDetector=!1,y._workerMessageId=0;let w=573,b=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),x=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),k=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C=Array(576);v(C);let S=Array(60);v(S);let E=Array(512);v(E);let N=Array(256);v(N);let A=Array(29);v(A);let T=Array(30);function R(e,t,a,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=a,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function z(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}v(T);let D=e=>e<256?E[e]:E[256+(e>>>7)],I=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},M=(e,t,a)=>{e.bi_valid>16-a?(e.bi_buf|=t<<e.bi_valid&65535,I(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=a-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=a)},P=(e,t,a)=>{M(e,a[2*t],a[2*t+1])},B=(e,t)=>{let a=0;do a|=1&e,e>>>=1,a<<=1;while(--t>0)return a>>>1},O=(e,t,a)=>{let n,i,r=Array(16),s=0;for(n=1;n<=15;n++)s=s+a[n-1]<<1,r[n]=s;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=B(r[t]++,t))}},L=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},U=e=>{e.bi_valid>8?I(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},F=(e,t,a,n)=>{let i=2*t,r=2*a;return e[i]<e[r]||e[i]===e[r]&&n[t]<=n[a]},H=(e,t,a)=>{let n=e.heap[a],i=a<<1;for(;i<=e.heap_len&&(i<e.heap_len&&F(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!F(t,n,e.heap[i],e.depth));)e.heap[a]=e.heap[i],a=i,i<<=1;e.heap[a]=n},$=(e,t,a)=>{let n,i,r,s,o=0;if(0!==e.sym_next)do n=(255&e.pending_buf[e.sym_buf+o++])+((255&e.pending_buf[e.sym_buf+o++])<<8),i=e.pending_buf[e.sym_buf+o++],0===n?P(e,i,t):(P(e,(r=N[i])+256+1,t),0!==(s=b[r])&&M(e,i-=A[r],s),P(e,r=D(--n),a),0!==(s=x[r])&&M(e,n-=T[r],s));while(o<e.sym_next)P(e,256,t)},Z=(e,t)=>{let a,n,i,r=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,d=-1;for(a=0,e.heap_len=0,e.heap_max=w;a<l;a++)0!==r[2*a]?(e.heap[++e.heap_len]=d=a,e.depth[a]=0):r[2*a+1]=0;for(;e.heap_len<2;)r[2*(i=e.heap[++e.heap_len]=d<2?++d:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=s[2*i+1]);for(t.max_code=d,a=e.heap_len>>1;a>=1;a--)H(e,r,a);i=l;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],H(e,r,1),n=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=n,r[2*i]=r[2*a]+r[2*n],e.depth[i]=(e.depth[a]>=e.depth[n]?e.depth[a]:e.depth[n])+1,r[2*a+1]=r[2*n+1]=i,e.heap[1]=i++,H(e,r,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],((e,t)=>{let a,n,i,r,s,o,l=t.dyn_tree,d=t.max_code,h=t.stat_desc.static_tree,c=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(r=0;r<=15;r++)e.bl_count[r]=0;for(l[2*e.heap[e.heap_max]+1]=0,a=e.heap_max+1;a<w;a++)(r=l[2*l[2*(n=e.heap[a])+1]+1]+1)>g&&(r=g,m++),l[2*n+1]=r,!(n>d)&&(e.bl_count[r]++,s=0,n>=f&&(s=u[n-f]),o=l[2*n],e.opt_len+=o*(r+s),c&&(e.static_len+=o*(h[2*n+1]+s)));if(0!==m){do{for(r=g-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[g]--,m-=2}while(m>0)for(r=g;0!==r;r--)for(n=e.bl_count[r];0!==n;)!((i=e.heap[--a])>d)&&(l[2*i+1]!==r&&(e.opt_len+=(r-l[2*i+1])*l[2*i],l[2*i+1]=r),n--)}})(e,t),O(r,d,e.bl_count)},W=(e,t,a)=>{let n,i,r=-1,s=t[1],o=0,l=7,d=4;for(0===s&&(l=138,d=3),t[(a+1)*2+1]=65535,n=0;n<=a;n++)i=s,s=t[(n+1)*2+1],++o<l&&i===s||(o<d?e.bl_tree[2*i]+=o:0!==i?(i!==r&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,r=i,0===s?(l=138,d=3):i===s?(l=6,d=3):(l=7,d=4))},q=(e,t,a)=>{let n,i,r=-1,s=t[1],o=0,l=7,d=4;for(0===s&&(l=138,d=3),n=0;n<=a;n++)if(i=s,s=t[(n+1)*2+1],!(++o<l)||i!==s){if(o<d)do P(e,i,e.bl_tree);while(0!=--o)else 0!==i?(i!==r&&(P(e,i,e.bl_tree),o--),P(e,16,e.bl_tree),M(e,o-3,2)):o<=10?(P(e,17,e.bl_tree),M(e,o-3,3)):(P(e,18,e.bl_tree),M(e,o-11,7));o=0,r=i,0===s?(l=138,d=3):i===s?(l=6,d=3):(l=7,d=4)}},V=!1,K=(e,t,a,n)=>{M(e,0+ +!!n,3),U(e),I(e,a),I(e,~a),a&&e.pending_buf.set(e.window.subarray(t,t+a),e.pending),e.pending+=a};var Q={_tr_init:e=>{V||((()=>{let e,i,r,s,o,l=Array(16);for(s=0,r=0;s<28;s++)for(e=0,A[s]=r;e<1<<b[s];e++)N[r++]=s;for(N[r-1]=s,o=0,s=0;s<16;s++)for(e=0,T[s]=o;e<1<<x[s];e++)E[o++]=s;for(o>>=7;s<30;s++)for(e=0,T[s]=o<<7;e<1<<x[s]-7;e++)E[256+o++]=s;for(i=0;i<=15;i++)l[i]=0;for(e=0;e<=143;)C[2*e+1]=8,e++,l[8]++;for(;e<=255;)C[2*e+1]=9,e++,l[9]++;for(;e<=279;)C[2*e+1]=7,e++,l[7]++;for(;e<=287;)C[2*e+1]=8,e++,l[8]++;for(O(C,287,l),e=0;e<30;e++)S[2*e+1]=5,S[2*e]=B(e,5);t=new R(C,b,257,286,15),a=new R(S,x,0,30,15),n=new R([],k,0,19,7)})(),V=!0),e.l_desc=new z(e.dyn_ltree,t),e.d_desc=new z(e.dyn_dtree,a),e.bl_desc=new z(e.bl_tree,n),e.bi_buf=0,e.bi_valid=0,L(e)},_tr_stored_block:K,_tr_flush_block:(e,t,a,n)=>{let i,r,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,a=0xf3ffc07f;for(t=0;t<=31;t++,a>>>=1)if(1&a&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Z(e,e.l_desc),Z(e,e.d_desc),s=(e=>{let t;for(W(e,e.dyn_ltree,e.l_desc.max_code),W(e,e.dyn_dtree,e.d_desc.max_code),Z(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*j[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,(r=e.static_len+3+7>>>3)<=i&&(i=r)):i=r=a+5,a+4<=i&&-1!==t?K(e,t,a,n):4===e.strategy||r===i?(M(e,2+ +!!n,3),$(e,C,S)):(M(e,4+ +!!n,3),((e,t,a,n)=>{let i;for(M(e,t-257,5),M(e,a-1,5),M(e,n-4,4),i=0;i<n;i++)M(e,e.bl_tree[2*j[i]+1],3);q(e,e.dyn_ltree,t-1),q(e,e.dyn_dtree,a-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),$(e,e.dyn_ltree,e.dyn_dtree)),L(e),n&&U(e)},_tr_tally:(e,t,a)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=a,0===t?e.dyn_ltree[2*a]++:(e.matches++,t--,e.dyn_ltree[(N[a]+256+1)*2]++,e.dyn_dtree[2*D(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{M(e,2,3),P(e,256,C),(e=>{16===e.bi_valid?(I(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},Y=(e,t,a,n)=>{let i=65535&e,r=e>>>16&65535,s=0;for(;0!==a;){s=a>2e3?2e3:a,a-=s;do r=r+(i=i+t[n++]|0)|0;while(--s)i%=65521,r%=65521}return i|r<<16};let J=new Uint32Array((()=>{let e,t=[];for(var a=0;a<256;a++){e=a;for(var n=0;n<8;n++)e=1&e?0xedb88320^e>>>1:e>>>1;t[a]=e}return t})());var X=(e,t,a,n)=>{let i=n+a;e^=-1;for(let a=n;a<i;a++)e=e>>>8^J[(e^t[a])&255];return -1^e},G={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ee={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:et,_tr_stored_block:ea,_tr_flush_block:en,_tr_tally:ei,_tr_align:er}=Q,{Z_NO_FLUSH:es,Z_PARTIAL_FLUSH:eo,Z_FULL_FLUSH:el,Z_FINISH:ed,Z_BLOCK:eh,Z_OK:ec,Z_STREAM_END:eu,Z_STREAM_ERROR:ef,Z_DATA_ERROR:eg,Z_BUF_ERROR:em,Z_DEFAULT_COMPRESSION:ep,Z_FILTERED:e_,Z_HUFFMAN_ONLY:ey,Z_RLE:ev,Z_FIXED:ew,Z_DEFAULT_STRATEGY:eb,Z_UNKNOWN:ex,Z_DEFLATED:ek}=ee,ej=573,eC=(e,t)=>(e.msg=G[t],t),eS=e=>2*e-9*(e>4),eE=e=>{let t=e.length;for(;--t>=0;)e[t]=0},eN=e=>{let t,a,n,i=e.w_size;n=t=e.hash_size;do a=e.head[--n],e.head[n]=a>=i?a-i:0;while(--t)n=t=i;do a=e.prev[--n],e.prev[n]=a>=i?a-i:0;while(--t)},eA=(e,t,a)=>(t<<e.hash_shift^a)&e.hash_mask,eT=e=>{let t=e.state,a=t.pending;a>e.avail_out&&(a=e.avail_out),0!==a&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+a),e.next_out),e.next_out+=a,t.pending_out+=a,e.total_out+=a,e.avail_out-=a,t.pending-=a,0===t.pending&&(t.pending_out=0))},eR=(e,t)=>{en(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,eT(e.strm)},ez=(e,t)=>{e.pending_buf[e.pending++]=t},eD=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},eI=(e,t,a,n)=>{let i=e.avail_in;return(i>n&&(i=n),0===i)?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),a),1===e.state.wrap?e.adler=Y(e.adler,t,i,a):2===e.state.wrap&&(e.adler=X(e.adler,t,i,a)),e.next_in+=i,e.total_in+=i,i)},eM=(e,t)=>{let a,n,i=e.max_chain_length,r=e.strstart,s=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,d=e.window,h=e.w_mask,c=e.prev,u=e.strstart+258,f=d[r+s-1],g=d[r+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(d[(a=t)+s]!==g||d[a+s-1]!==f||d[a]!==d[r]||d[++a]!==d[r+1])continue;r+=2,a++;do;while(d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&d[++r]===d[++a]&&r<u)if(n=258-(u-r),r=u-258,n>s){if(e.match_start=t,s=n,n>=o)break;f=d[r+s-1],g=d[r+s]}}while((t=c[t&h])>l&&0!=--i)return s<=e.lookahead?s:e.lookahead},eP=e=>{let t,a,n,i=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-262)&&(e.window.set(e.window.subarray(i,i+i-a),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),eN(e),a+=i),0===e.strm.avail_in)break;if(t=eI(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=t,e.lookahead+e.insert>=3)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=eA(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=eA(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},eB=(e,t)=>{let a=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,r,s=0,o=e.strm.avail_in;do{if(n=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r||(r=e.strm.avail_out-r,n>(i=e.strstart-e.block_start)+e.strm.avail_in&&(n=i+e.strm.avail_in),n>r&&(n=r),n<a&&(0===n&&t!==ed||t===es||n!==i+e.strm.avail_in)))break;s=+(t===ed&&n===i+e.strm.avail_in),ea(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,eT(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(eI(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===s)return((o-=e.strm.avail_in)&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s)?4:t!==es&&t!==ed&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(eI(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,a=(r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r)>e.w_size?e.w_size:r,((i=e.strstart-e.block_start)>=a||(i||t===ed)&&t!==es&&0===e.strm.avail_in&&i<=r)&&(n=i>r?r:i,s=+(t===ed&&0===e.strm.avail_in&&n===i),ea(e,e.block_start,n,s),e.block_start+=n,eT(e.strm)),s?3:1)},eO=(e,t)=>{let a,n;for(;;){if(e.lookahead<262){if(eP(e),e.lookahead<262&&t===es)return 1;if(0===e.lookahead)break}if(a=0,e.lookahead>=3&&(e.ins_h=eA(e,e.ins_h,e.window[e.strstart+3-1]),a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==a&&e.strstart-a<=e.w_size-262&&(e.match_length=eM(e,a)),e.match_length>=3)if(n=ei(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=eA(e,e.ins_h,e.window[e.strstart+3-1]),a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=eA(e,e.ins_h,e.window[e.strstart+1]);else n=ei(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(eR(e,!1),0===e.strm.avail_out))return 1}return(e.insert=e.strstart<2?e.strstart:2,t===ed)?(eR(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(eR(e,!1),0===e.strm.avail_out)?1:2},eL=(e,t)=>{let a,n,i;for(;;){if(e.lookahead<262){if(eP(e),e.lookahead<262&&t===es)return 1;if(0===e.lookahead)break}if(a=0,e.lookahead>=3&&(e.ins_h=eA(e,e.ins_h,e.window[e.strstart+3-1]),a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==a&&e.prev_length<e.max_lazy_match&&e.strstart-a<=e.w_size-262&&(e.match_length=eM(e,a),e.match_length<=5&&(e.strategy===e_||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=ei(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=eA(e,e.ins_h,e.window[e.strstart+3-1]),a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=2,e.strstart++,n&&(eR(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=ei(e,0,e.window[e.strstart-1]))&&eR(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(n=ei(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ed)?(eR(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(eR(e,!1),0===e.strm.avail_out)?1:2};function eU(e,t,a,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=a,this.max_chain=n,this.func=i}let eF=[new eU(0,0,0,0,eB),new eU(4,4,8,4,eO),new eU(4,5,16,8,eO),new eU(4,6,32,32,eO),new eU(4,4,16,16,eL),new eU(8,16,32,32,eL),new eU(8,16,128,128,eL),new eU(8,32,128,256,eL),new eU(32,128,258,1024,eL),new eU(32,258,258,4096,eL)];function eH(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ek,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*ej),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),eE(this.dyn_ltree),eE(this.dyn_dtree),eE(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),eE(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),eE(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let e$=e=>{if(!e)return 1;let t=e.state;return t&&t.strm===e&&(42===t.status||57===t.status||69===t.status||73===t.status||91===t.status||103===t.status||113===t.status||666===t.status)?0:1};var eZ={deflateInit2:(e,t,a,n,i,r)=>{if(!e)return ef;let s=1;if(t===ep&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||a!==ek||n<8||n>15||t<0||t>9||r<0||r>ew||8===n&&1!==s)return eC(e,ef);8===n&&(n=9);let o=new eH;return e.state=o,o.strm=e,o.status=42,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=r,o.method=a,(e=>{let t=(e=>{if(e$(e))return eC(e,ef);e.total_in=e.total_out=0,e.data_type=ex;let t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=+(2!==t.wrap),t.last_flush=-2,et(t),ec})(e);return t===ec&&(e=>{e.window_size=2*e.w_size,eE(e.head),e.max_lazy_match=eF[e.level].max_lazy,e.good_match=eF[e.level].good_length,e.nice_match=eF[e.level].nice_length,e.max_chain_length=eF[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t})(e)},deflateSetHeader:(e,t)=>e$(e)||2!==e.state.wrap?ef:(e.state.gzhead=t,ec),deflate:(e,t)=>{if(e$(e)||t>eh||t<0)return e?eC(e,ef):ef;let a=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===a.status&&t!==ed)return eC(e,0===e.avail_out?em:ef);let n=a.last_flush;if(a.last_flush=t,0!==a.pending){if(eT(e),0===e.avail_out)return a.last_flush=-1,ec}else if(0===e.avail_in&&eS(t)<=eS(n)&&t!==ed)return eC(e,em);if(666===a.status&&0!==e.avail_in)return eC(e,em);if(42===a.status&&0===a.wrap&&(a.status=113),42===a.status){let t=ek+(a.w_bits-8<<4)<<8;if(t|=(a.strategy>=ey||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(t|=32),eD(a,t+=31-t%31),0!==a.strstart&&(eD(a,e.adler>>>16),eD(a,65535&e.adler)),e.adler=1,a.status=113,eT(e),0!==a.pending)return a.last_flush=-1,ec}if(57===a.status){if(e.adler=0,ez(a,31),ez(a,139),ez(a,8),a.gzhead)ez(a,+!!a.gzhead.text+2*!!a.gzhead.hcrc+4*!!a.gzhead.extra+8*!!a.gzhead.name+16*!!a.gzhead.comment),ez(a,255&a.gzhead.time),ez(a,a.gzhead.time>>8&255),ez(a,a.gzhead.time>>16&255),ez(a,a.gzhead.time>>24&255),ez(a,9===a.level?2:4*(a.strategy>=ey||a.level<2)),ez(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(ez(a,255&a.gzhead.extra.length),ez(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=X(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69;else if(ez(a,0),ez(a,0),ez(a,0),ez(a,0),ez(a,0),ez(a,9===a.level?2:4*(a.strategy>=ey||a.level<2)),ez(a,3),a.status=113,eT(e),0!==a.pending)return a.last_flush=-1,ec}if(69===a.status){if(a.gzhead.extra){let t=a.pending,n=(65535&a.gzhead.extra.length)-a.gzindex;for(;a.pending+n>a.pending_buf_size;){let i=a.pending_buf_size-a.pending;if(a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex,a.gzindex+i),a.pending),a.pending=a.pending_buf_size,a.gzhead.hcrc&&a.pending>t&&(e.adler=X(e.adler,a.pending_buf,a.pending-t,t)),a.gzindex+=i,eT(e),0!==a.pending)return a.last_flush=-1,ec;t=0,n-=i}let i=new Uint8Array(a.gzhead.extra);a.pending_buf.set(i.subarray(a.gzindex,a.gzindex+n),a.pending),a.pending+=n,a.gzhead.hcrc&&a.pending>t&&(e.adler=X(e.adler,a.pending_buf,a.pending-t,t)),a.gzindex=0}a.status=73}if(73===a.status){if(a.gzhead.name){let t,n=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>n&&(e.adler=X(e.adler,a.pending_buf,a.pending-n,n)),eT(e),0!==a.pending)return a.last_flush=-1,ec;n=0}t=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,ez(a,t)}while(0!==t)a.gzhead.hcrc&&a.pending>n&&(e.adler=X(e.adler,a.pending_buf,a.pending-n,n)),a.gzindex=0}a.status=91}if(91===a.status){if(a.gzhead.comment){let t,n=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>n&&(e.adler=X(e.adler,a.pending_buf,a.pending-n,n)),eT(e),0!==a.pending)return a.last_flush=-1,ec;n=0}t=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,ez(a,t)}while(0!==t)a.gzhead.hcrc&&a.pending>n&&(e.adler=X(e.adler,a.pending_buf,a.pending-n,n))}a.status=103}if(103===a.status){if(a.gzhead.hcrc){if(a.pending+2>a.pending_buf_size&&(eT(e),0!==a.pending))return a.last_flush=-1,ec;ez(a,255&e.adler),ez(a,e.adler>>8&255),e.adler=0}if(a.status=113,eT(e),0!==a.pending)return a.last_flush=-1,ec}if(0!==e.avail_in||0!==a.lookahead||t!==es&&666!==a.status){let n=0===a.level?eB(a,t):a.strategy===ey?((e,t)=>{let a;for(;;){if(0===e.lookahead&&(eP(e),0===e.lookahead)){if(t===es)return 1;break}if(e.match_length=0,a=ei(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,a&&(eR(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,t===ed)?(eR(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(eR(e,!1),0===e.strm.avail_out)?1:2})(a,t):a.strategy===ev?((e,t)=>{let a,n,i,r,s=e.window;for(;;){if(e.lookahead<=258){if(eP(e),e.lookahead<=258&&t===es)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){r=e.strstart+258;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<r)e.match_length=258-(r-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(a=ei(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(a=ei(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),a&&(eR(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,t===ed)?(eR(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(eR(e,!1),0===e.strm.avail_out)?1:2})(a,t):eF[a.level].func(a,t);if((3===n||4===n)&&(a.status=666),1===n||3===n)return 0===e.avail_out&&(a.last_flush=-1),ec;if(2===n&&(t===eo?er(a):t!==eh&&(ea(a,0,0,!1),t===el&&(eE(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),eT(e),0===e.avail_out))return a.last_flush=-1,ec}return t!==ed?ec:a.wrap<=0?eu:(2===a.wrap?(ez(a,255&e.adler),ez(a,e.adler>>8&255),ez(a,e.adler>>16&255),ez(a,e.adler>>24&255),ez(a,255&e.total_in),ez(a,e.total_in>>8&255),ez(a,e.total_in>>16&255),ez(a,e.total_in>>24&255)):(eD(a,e.adler>>>16),eD(a,65535&e.adler)),eT(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?ec:eu)},deflateEnd:e=>{if(e$(e))return ef;let t=e.state.status;return e.state=null,113===t?eC(e,eg):ec},deflateSetDictionary:(e,t)=>{let a=t.length;if(e$(e))return ef;let n=e.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return ef;if(1===i&&(e.adler=Y(e.adler,t,a,0)),n.wrap=0,a>=n.w_size){0===i&&(eE(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(a-n.w_size,a),0),t=e,a=n.w_size}let r=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=a,e.next_in=0,e.input=t,eP(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do n.ins_h=eA(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++;while(--t)n.strstart=e,n.lookahead=2,eP(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=o,e.avail_in=r,n.wrap=i,ec}};let eW=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var eq={assign:function(e){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let a=t.shift();if(a){if("object"!=typeof a)throw TypeError(a+"must be non-object");for(let t in a)eW(a,t)&&(e[t]=a[t])}}return e},flattenChunks:e=>{let t=0;for(let a=0,n=e.length;a<n;a++)t+=e[a].length;let a=new Uint8Array(t);for(let t=0,n=0,i=e.length;t<i;t++){let i=e[t];a.set(i,n),n+=i.length}return a}};let eV=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){eV=!1}let eK=new Uint8Array(256);for(let e=0;e<256;e++)eK[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;eK[254]=eK[254]=1;var eQ={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,a,n,i,r,s=e.length,o=0;for(i=0;i<s;i++)(64512&(a=e.charCodeAt(i)))==55296&&i+1<s&&(64512&(n=e.charCodeAt(i+1)))==56320&&(a=65536+(a-55296<<10)+(n-56320),i++),o+=a<128?1:a<2048?2:a<65536?3:4;for(r=0,t=new Uint8Array(o),i=0;r<o;i++)(64512&(a=e.charCodeAt(i)))==55296&&i+1<s&&(64512&(n=e.charCodeAt(i+1)))==56320&&(a=65536+(a-55296<<10)+(n-56320),i++),a<128?t[r++]=a:(a<2048?t[r++]=192|a>>>6:(a<65536?t[r++]=224|a>>>12:(t[r++]=240|a>>>18,t[r++]=128|a>>>12&63),t[r++]=128|a>>>6&63),t[r++]=128|63&a);return t},buf2string:(e,t)=>{let a,n,i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r=Array(2*i);for(n=0,a=0;a<i;){let t=e[a++];if(t<128){r[n++]=t;continue}let s=eK[t];if(s>4){r[n++]=65533,a+=s-1;continue}for(t&=2===s?31:3===s?15:7;s>1&&a<i;)t=t<<6|63&e[a++],s--;if(s>1){r[n++]=65533;continue}t<65536?r[n++]=t:(t-=65536,r[n++]=55296|t>>10&1023,r[n++]=56320|1023&t)}return((e,t)=>{if(t<65534&&e.subarray&&eV)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let a="";for(let n=0;n<t;n++)a+=String.fromCharCode(e[n]);return a})(r,n)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let a=t-1;for(;a>=0&&(192&e[a])==128;)a--;return a<0||0===a?t:a+eK[e[a]]>t?a:t}},eY=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};let eJ=Object.prototype.toString,{Z_NO_FLUSH:eX,Z_SYNC_FLUSH:eG,Z_FULL_FLUSH:e0,Z_FINISH:e1,Z_OK:e2,Z_STREAM_END:e5,Z_DEFAULT_COMPRESSION:e6,Z_DEFAULT_STRATEGY:e3,Z_DEFLATED:e8}=ee;function e4(e){this.options=eq.assign({level:e6,method:e8,chunkSize:16384,windowBits:15,memLevel:8,strategy:e3},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eY,this.strm.avail_out=0;let a=eZ.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(a!==e2)throw Error(G[a]);if(t.header&&eZ.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?eQ.string2buf(t.dictionary):"[object ArrayBuffer]"===eJ.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(a=eZ.deflateSetDictionary(this.strm,e))!==e2)throw Error(G[a]);this._dict_set=!0}}function e9(e,t){let a=new e4(t);if(a.push(e,!0),a.err)throw a.msg||G[a.err];return a.result}e4.prototype.push=function(e,t){let a,n,i=this.strm,r=this.options.chunkSize;if(this.ended)return!1;for(n=t===~~t?t:!0===t?e1:eX,"string"==typeof e?i.input=eQ.string2buf(e):"[object ArrayBuffer]"===eJ.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){if(0===i.avail_out&&(i.output=new Uint8Array(r),i.next_out=0,i.avail_out=r),(n===eG||n===e0)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if((a=eZ.deflate(i,n))===e5)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),a=eZ.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===e2;if(0===i.avail_out){this.onData(i.output);continue}if(n>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(0===i.avail_in)break}return!0},e4.prototype.onData=function(e){this.chunks.push(e)},e4.prototype.onEnd=function(e){e===e2&&(this.result=eq.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var e7=function(e,t){let a,n,i,r,s,o,l,d,h,c,u,f,g,m,p,_,y,v,w,b,x,k,j,C,S=e.state;a=e.next_in,j=e.input,n=a+(e.avail_in-5),i=e.next_out,C=e.output,r=i-(t-e.avail_out),s=i+(e.avail_out-257),o=S.dmax,l=S.wsize,d=S.whave,h=S.wnext,c=S.window,u=S.hold,f=S.bits,g=S.lencode,m=S.distcode,p=(1<<S.lenbits)-1,_=(1<<S.distbits)-1;e:do for(f<15&&(u+=j[a++]<<f,f+=8,u+=j[a++]<<f,f+=8),y=g[u&p];;){if(u>>>=v=y>>>24,f-=v,0==(v=y>>>16&255))C[i++]=65535&y;else if(16&v)for(w=65535&y,(v&=15)&&(f<v&&(u+=j[a++]<<f,f+=8),w+=u&(1<<v)-1,u>>>=v,f-=v),f<15&&(u+=j[a++]<<f,f+=8,u+=j[a++]<<f,f+=8),y=m[u&_];;){if(u>>>=v=y>>>24,f-=v,16&(v=y>>>16&255)){if(b=65535&y,f<(v&=15)&&(u+=j[a++]<<f,(f+=8)<v&&(u+=j[a++]<<f,f+=8)),(b+=u&(1<<v)-1)>o){e.msg="invalid distance too far back",S.mode=16209;break e}if(u>>>=v,f-=v,b>(v=i-r)){if((v=b-v)>d&&S.sane){e.msg="invalid distance too far back",S.mode=16209;break e}if(x=0,k=c,0===h){if(x+=l-v,v<w){w-=v;do C[i++]=c[x++];while(--v)x=i-b,k=C}}else if(h<v){if(x+=l+h-v,(v-=h)<w){w-=v;do C[i++]=c[x++];while(--v)if(x=0,h<w){w-=v=h;do C[i++]=c[x++];while(--v)x=i-b,k=C}}}else if(x+=h-v,v<w){w-=v;do C[i++]=c[x++];while(--v)x=i-b,k=C}for(;w>2;)C[i++]=k[x++],C[i++]=k[x++],C[i++]=k[x++],w-=3;w&&(C[i++]=k[x++],w>1&&(C[i++]=k[x++]))}else{x=i-b;do C[i++]=C[x++],C[i++]=C[x++],C[i++]=C[x++],w-=3;while(w>2)w&&(C[i++]=C[x++],w>1&&(C[i++]=C[x++]))}}else if((64&v)==0){y=m[(65535&y)+(u&(1<<v)-1)];continue}else{e.msg="invalid distance code",S.mode=16209;break e}break}else if((64&v)==0){y=g[(65535&y)+(u&(1<<v)-1)];continue}else if(32&v){S.mode=16191;break e}else{e.msg="invalid literal/length code",S.mode=16209;break e}break}while(a<n&&i<s)a-=w=f>>3,f-=w<<3,u&=(1<<f)-1,e.next_in=a,e.next_out=i,e.avail_in=a<n?5+(n-a):5-(a-n),e.avail_out=i<s?257+(s-i):257-(i-s),S.hold=u,S.bits=f};let te=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),tt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ta=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),tn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ti=(e,t,a,n,i,r,s,o)=>{let l,d,h,c,u,f,g,m,p,_=o.bits,y=0,v=0,w=0,b=0,x=0,k=0,j=0,C=0,S=0,E=0,N=null,A=new Uint16Array(16),T=new Uint16Array(16),R=null;for(y=0;y<=15;y++)A[y]=0;for(v=0;v<n;v++)A[t[a+v]]++;for(b=15,x=_;b>=1&&0===A[b];b--);if(x>b&&(x=b),0===b)return i[r++]=0x1400000,i[r++]=0x1400000,o.bits=1,0;for(w=1;w<b&&0===A[w];w++);for(x<w&&(x=w),C=1,y=1;y<=15;y++)if(C<<=1,(C-=A[y])<0)return -1;if(C>0&&(0===e||1!==b))return -1;for(y=1,T[1]=0;y<15;y++)T[y+1]=T[y]+A[y];for(v=0;v<n;v++)0!==t[a+v]&&(s[T[t[a+v]]++]=v);if(0===e?(N=R=s,f=20):1===e?(N=te,R=tt,f=257):(N=ta,R=tn,f=0),E=0,v=0,y=w,u=r,k=x,j=0,h=-1,c=(S=1<<x)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){g=y-j,s[v]+1<f?(m=0,p=s[v]):s[v]>=f?(m=R[s[v]-f],p=N[s[v]-f]):(m=96,p=0),l=1<<y-j,w=d=1<<k;do i[u+(E>>j)+(d-=l)]=g<<24|m<<16|p;while(0!==d)for(l=1<<y-1;E&l;)l>>=1;if(0!==l?(E&=l-1,E+=l):E=0,v++,0==--A[y]){if(y===b)break;y=t[a+s[v]]}if(y>x&&(E&c)!==h){for(0===j&&(j=x),u+=w,C=1<<(k=y-j);k+j<b&&!((C-=A[k+j])<=0);)k++,C<<=1;if(S+=1<<k,1===e&&S>852||2===e&&S>592)return 1;i[h=E&c]=x<<24|k<<16|u-r}}return 0!==E&&(i[u+E]=y-j<<24|4194304),o.bits=x,0};let{Z_FINISH:tr,Z_BLOCK:ts,Z_TREES:to,Z_OK:tl,Z_STREAM_END:td,Z_NEED_DICT:th,Z_STREAM_ERROR:tc,Z_DATA_ERROR:tu,Z_MEM_ERROR:tf,Z_BUF_ERROR:tg,Z_DEFLATED:tm}=ee,tp=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function t_(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let ty=e=>{if(!e)return 1;let t=e.state;return+(!t||t.strm!==e||t.mode<16180||t.mode>16211)},tv=e=>{if(ty(e))return tc;let t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,(e=>{if(ty(e))return tc;let t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,tl})(e)},tw=!0,tb=e=>{if(tw){i=new Int32Array(512),r=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ti(1,e.lens,0,288,i,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ti(2,e.lens,0,32,r,0,e.work,{bits:5}),tw=!1}e.lencode=i,e.lenbits=9,e.distcode=r,e.distbits=5},tx=(e,t,a,n)=>{let i,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(t.subarray(a-r.wsize,a),0),r.wnext=0,r.whave=r.wsize):((i=r.wsize-r.wnext)>n&&(i=n),r.window.set(t.subarray(a-n,a-n+i),r.wnext),(n-=i)?(r.window.set(t.subarray(a-n,a),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=i,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=i))),0};var tk={inflateReset:tv,inflateInit2:(e,t)=>{if(!e)return tc;let a=new t_;e.state=a,a.strm=e,a.window=null,a.mode=16180;let n=((e,t)=>{let a;if(ty(e))return tc;let n=e.state;return(t<0?(a=0,t=-t):(a=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15))?tc:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=a,n.wbits=t,tv(e))})(e,t);return n!==tl&&(e.state=null),n},inflate:(e,t)=>{let a,n,i,r,s,o,l,d,h,c,u,f,g,m,p,_,y,v,w,b,x,k,j,C,S=0,E=new Uint8Array(4),N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ty(e)||!e.output||!e.input&&0!==e.avail_in)return tc;16191===(a=e.state).mode&&(a.mode=16192),s=e.next_out,i=e.output,l=e.avail_out,r=e.next_in,n=e.input,o=e.avail_in,d=a.hold,h=a.bits,c=o,u=l,k=tl;t:for(;;)switch(a.mode){case 16180:if(0===a.wrap){a.mode=16192;break}for(;h<16;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}if(2&a.wrap&&35615===d){0===a.wbits&&(a.wbits=15),a.check=0,E[0]=255&d,E[1]=d>>>8&255,a.check=X(a.check,E,2,0),d=0,h=0,a.mode=16181;break}if(a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",a.mode=16209;break}if((15&d)!==tm){e.msg="unknown compression method",a.mode=16209;break}if(d>>>=4,h-=4,x=(15&d)+8,0===a.wbits&&(a.wbits=x),x>15||x>a.wbits){e.msg="invalid window size",a.mode=16209;break}a.dmax=1<<a.wbits,a.flags=0,e.adler=a.check=1,a.mode=512&d?16189:16191,d=0,h=0;break;case 16181:for(;h<16;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}if(a.flags=d,(255&a.flags)!==tm){e.msg="unknown compression method",a.mode=16209;break}if(57344&a.flags){e.msg="unknown header flags set",a.mode=16209;break}a.head&&(a.head.text=d>>8&1),512&a.flags&&4&a.wrap&&(E[0]=255&d,E[1]=d>>>8&255,a.check=X(a.check,E,2,0)),d=0,h=0,a.mode=16182;case 16182:for(;h<32;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}a.head&&(a.head.time=d),512&a.flags&&4&a.wrap&&(E[0]=255&d,E[1]=d>>>8&255,E[2]=d>>>16&255,E[3]=d>>>24&255,a.check=X(a.check,E,4,0)),d=0,h=0,a.mode=16183;case 16183:for(;h<16;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}a.head&&(a.head.xflags=255&d,a.head.os=d>>8),512&a.flags&&4&a.wrap&&(E[0]=255&d,E[1]=d>>>8&255,a.check=X(a.check,E,2,0)),d=0,h=0,a.mode=16184;case 16184:if(1024&a.flags){for(;h<16;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}a.length=d,a.head&&(a.head.extra_len=d),512&a.flags&&4&a.wrap&&(E[0]=255&d,E[1]=d>>>8&255,a.check=X(a.check,E,2,0)),d=0,h=0}else a.head&&(a.head.extra=null);a.mode=16185;case 16185:if(1024&a.flags&&((f=a.length)>o&&(f=o),f&&(a.head&&(x=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(n.subarray(r,r+f),x)),512&a.flags&&4&a.wrap&&(a.check=X(a.check,n,f,r)),o-=f,r+=f,a.length-=f),a.length))break t;a.length=0,a.mode=16186;case 16186:if(2048&a.flags){if(0===o)break t;f=0;do x=n[r+f++],a.head&&x&&a.length<65536&&(a.head.name+=String.fromCharCode(x));while(x&&f<o)if(512&a.flags&&4&a.wrap&&(a.check=X(a.check,n,f,r)),o-=f,r+=f,x)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=16187;case 16187:if(4096&a.flags){if(0===o)break t;f=0;do x=n[r+f++],a.head&&x&&a.length<65536&&(a.head.comment+=String.fromCharCode(x));while(x&&f<o)if(512&a.flags&&4&a.wrap&&(a.check=X(a.check,n,f,r)),o-=f,r+=f,x)break t}else a.head&&(a.head.comment=null);a.mode=16188;case 16188:if(512&a.flags){for(;h<16;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}if(4&a.wrap&&d!==(65535&a.check)){e.msg="header crc mismatch",a.mode=16209;break}d=0,h=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=16191;break;case 16189:for(;h<32;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}e.adler=a.check=tp(d),d=0,h=0,a.mode=16190;case 16190:if(0===a.havedict)return e.next_out=s,e.avail_out=l,e.next_in=r,e.avail_in=o,a.hold=d,a.bits=h,th;e.adler=a.check=1,a.mode=16191;case 16191:if(t===ts||t===to)break t;case 16192:if(a.last){d>>>=7&h,h-=7&h,a.mode=16206;break}for(;h<3;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}switch(a.last=1&d,h-=1,3&(d>>>=1)){case 0:a.mode=16193;break;case 1:if(tb(a),a.mode=16199,t===to){d>>>=2,h-=2;break t}break;case 2:a.mode=16196;break;case 3:e.msg="invalid block type",a.mode=16209}d>>>=2,h-=2;break;case 16193:for(d>>>=7&h,h-=7&h;h<32;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",a.mode=16209;break}if(a.length=65535&d,d=0,h=0,a.mode=16194,t===to)break t;case 16194:a.mode=16195;case 16195:if(f=a.length){if(f>o&&(f=o),f>l&&(f=l),0===f)break t;i.set(n.subarray(r,r+f),s),o-=f,r+=f,l-=f,s+=f,a.length-=f;break}a.mode=16191;break;case 16196:for(;h<14;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}if(a.nlen=(31&d)+257,h-=5,a.ndist=(31&(d>>>=5))+1,h-=5,a.ncode=(15&(d>>>=5))+4,d>>>=4,h-=4,a.nlen>286||a.ndist>30){e.msg="too many length or distance symbols",a.mode=16209;break}a.have=0,a.mode=16197;case 16197:for(;a.have<a.ncode;){for(;h<3;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}a.lens[N[a.have++]]=7&d,d>>>=3,h-=3}for(;a.have<19;)a.lens[N[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,j={bits:a.lenbits},k=ti(0,a.lens,0,19,a.lencode,0,a.work,j),a.lenbits=j.bits,k){e.msg="invalid code lengths set",a.mode=16209;break}a.have=0,a.mode=16198;case 16198:for(;a.have<a.nlen+a.ndist;){for(;p=(S=a.lencode[d&(1<<a.lenbits)-1])>>>24,_=S>>>16&255,y=65535&S,!(p<=h);){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}if(y<16)d>>>=p,h-=p,a.lens[a.have++]=y;else{if(16===y){for(C=p+2;h<C;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}if(d>>>=p,h-=p,0===a.have){e.msg="invalid bit length repeat",a.mode=16209;break}x=a.lens[a.have-1],f=3+(3&d),d>>>=2,h-=2}else if(17===y){for(C=p+3;h<C;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}d>>>=p,h-=p,x=0,f=3+(7&d),d>>>=3,h-=3}else{for(C=p+7;h<C;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}d>>>=p,h-=p,x=0,f=11+(127&d),d>>>=7,h-=7}if(a.have+f>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=16209;break}for(;f--;)a.lens[a.have++]=x}}if(16209===a.mode)break;if(0===a.lens[256]){e.msg="invalid code -- missing end-of-block",a.mode=16209;break}if(a.lenbits=9,j={bits:a.lenbits},k=ti(1,a.lens,0,a.nlen,a.lencode,0,a.work,j),a.lenbits=j.bits,k){e.msg="invalid literal/lengths set",a.mode=16209;break}if(a.distbits=6,a.distcode=a.distdyn,j={bits:a.distbits},k=ti(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,j),a.distbits=j.bits,k){e.msg="invalid distances set",a.mode=16209;break}if(a.mode=16199,t===to)break t;case 16199:a.mode=16200;case 16200:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=r,e.avail_in=o,a.hold=d,a.bits=h,e7(e,u),s=e.next_out,i=e.output,l=e.avail_out,r=e.next_in,n=e.input,o=e.avail_in,d=a.hold,h=a.bits,16191===a.mode&&(a.back=-1);break}for(a.back=0;p=(S=a.lencode[d&(1<<a.lenbits)-1])>>>24,_=S>>>16&255,y=65535&S,!(p<=h);){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}if(_&&(240&_)==0){for(v=p,w=_,b=y;p=(S=a.lencode[b+((d&(1<<v+w)-1)>>v)])>>>24,_=S>>>16&255,y=65535&S,!(v+p<=h);){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}d>>>=v,h-=v,a.back+=v}if(d>>>=p,h-=p,a.back+=p,a.length=y,0===_){a.mode=16205;break}if(32&_){a.back=-1,a.mode=16191;break}if(64&_){e.msg="invalid literal/length code",a.mode=16209;break}a.extra=15&_,a.mode=16201;case 16201:if(a.extra){for(C=a.extra;h<C;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}a.length+=d&(1<<a.extra)-1,d>>>=a.extra,h-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=16202;case 16202:for(;p=(S=a.distcode[d&(1<<a.distbits)-1])>>>24,_=S>>>16&255,y=65535&S,!(p<=h);){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}if((240&_)==0){for(v=p,w=_,b=y;p=(S=a.distcode[b+((d&(1<<v+w)-1)>>v)])>>>24,_=S>>>16&255,y=65535&S,!(v+p<=h);){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}d>>>=v,h-=v,a.back+=v}if(d>>>=p,h-=p,a.back+=p,64&_){e.msg="invalid distance code",a.mode=16209;break}a.offset=y,a.extra=15&_,a.mode=16203;case 16203:if(a.extra){for(C=a.extra;h<C;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}a.offset+=d&(1<<a.extra)-1,d>>>=a.extra,h-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=16209;break}a.mode=16204;case 16204:if(0===l)break t;if(f=u-l,a.offset>f){if((f=a.offset-f)>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=16209;break}f>a.wnext?(f-=a.wnext,g=a.wsize-f):g=a.wnext-f,f>a.length&&(f=a.length),m=a.window}else m=i,g=s-a.offset,f=a.length;f>l&&(f=l),l-=f,a.length-=f;do i[s++]=m[g++];while(--f)0===a.length&&(a.mode=16200);break;case 16205:if(0===l)break t;i[s++]=a.length,l--,a.mode=16200;break;case 16206:if(a.wrap){for(;h<32;){if(0===o)break t;o--,d|=n[r++]<<h,h+=8}if(u-=l,e.total_out+=u,a.total+=u,4&a.wrap&&u&&(e.adler=a.check=a.flags?X(a.check,i,u,s-u):Y(a.check,i,u,s-u)),u=l,4&a.wrap&&(a.flags?d:tp(d))!==a.check){e.msg="incorrect data check",a.mode=16209;break}d=0,h=0}a.mode=16207;case 16207:if(a.wrap&&a.flags){for(;h<32;){if(0===o)break t;o--,d+=n[r++]<<h,h+=8}if(4&a.wrap&&d!==(0|a.total)){e.msg="incorrect length check",a.mode=16209;break}d=0,h=0}a.mode=16208;case 16208:k=td;break t;case 16209:k=tu;break t;case 16210:return tf;default:return tc}return e.next_out=s,e.avail_out=l,e.next_in=r,e.avail_in=o,a.hold=d,a.bits=h,(a.wsize||u!==e.avail_out&&a.mode<16209&&(a.mode<16206||t!==tr))&&tx(e,e.output,e.next_out,u-e.avail_out),c-=e.avail_in,u-=e.avail_out,e.total_in+=c,e.total_out+=u,a.total+=u,4&a.wrap&&u&&(e.adler=a.check=a.flags?X(a.check,i,u,e.next_out-u):Y(a.check,i,u,e.next_out-u)),e.data_type=a.bits+64*!!a.last+128*(16191===a.mode)+256*(16199===a.mode||16194===a.mode),(0===c&&0===u||t===tr)&&k===tl&&(k=tg),k},inflateEnd:e=>{if(ty(e))return tc;let t=e.state;return t.window&&(t.window=null),e.state=null,tl},inflateGetHeader:(e,t)=>{if(ty(e))return tc;let a=e.state;return(2&a.wrap)==0?tc:(a.head=t,t.done=!1,tl)},inflateSetDictionary:(e,t)=>{let a,n=t.length;return ty(e)||0!==(a=e.state).wrap&&16190!==a.mode?tc:16190===a.mode&&Y(1,t,n,0)!==a.check?tu:tx(e,t,n,n)?(a.mode=16210,tf):(a.havedict=1,tl)}},tj=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};let tC=Object.prototype.toString,{Z_NO_FLUSH:tS,Z_FINISH:tE,Z_OK:tN,Z_STREAM_END:tA,Z_NEED_DICT:tT,Z_STREAM_ERROR:tR,Z_DATA_ERROR:tz,Z_MEM_ERROR:tD}=ee;function tI(e){this.options=eq.assign({chunkSize:65536,windowBits:15,to:""},e||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eY,this.strm.avail_out=0;let a=tk.inflateInit2(this.strm,t.windowBits);if(a!==tN||(this.header=new tj,tk.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=eQ.string2buf(t.dictionary):"[object ArrayBuffer]"===tC.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw)&&(a=tk.inflateSetDictionary(this.strm,t.dictionary))!==tN))throw Error(G[a])}function tM(e,t){let a=new tI(t);if(a.push(e),a.err)throw a.msg||G[a.err];return a.result}tI.prototype.push=function(e,t){let a,n,i,r=this.strm,s=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;for(n=t===~~t?t:!0===t?tE:tS,"[object ArrayBuffer]"===tC.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(s),r.next_out=0,r.avail_out=s),(a=tk.inflate(r,n))===tT&&o&&((a=tk.inflateSetDictionary(r,o))===tN?a=tk.inflate(r,n):a===tz&&(a=tT));r.avail_in>0&&a===tA&&r.state.wrap>0&&0!==e[r.next_in];)tk.inflateReset(r),a=tk.inflate(r,n);switch(a){case tR:case tz:case tT:case tD:return this.onEnd(a),this.ended=!0,!1}if(i=r.avail_out,r.next_out&&(0===r.avail_out||a===tA))if("string"===this.options.to){let e=eQ.utf8border(r.output,r.next_out),t=r.next_out-e,a=eQ.buf2string(r.output,e);r.next_out=t,r.avail_out=s-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(a)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==tN||0!==i){if(a===tA)return a=tk.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},tI.prototype.onData=function(e){this.chunks.push(e)},tI.prototype.onEnd=function(e){e===tN&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=eq.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};let{Deflate:tP,deflate:tB,deflateRaw:tO,gzip:tL}={Deflate:e4,deflate:e9,deflateRaw:function(e,t){return(t=t||{}).raw=!0,e9(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,e9(e,t)},constants:ee},{Inflate:tU,inflate:tF,inflateRaw:tH,ungzip:t$}={Inflate:tI,inflate:tM,inflateRaw:function(e,t){return(t=t||{}).raw=!0,tM(e,t)},ungzip:tM,constants:ee};var tZ={deflate:tB,inflate:tF};function tW(e){let{open:t,onClose:a}=e,{state:n,dispatch:i}=(0,c.useChoresApp)(),[r,l]=(0,o.useState)(""),[d,h]=(0,o.useState)(""),[u,f]=(0,o.useState)(!1),[g,m]=(0,o.useState)(!1),[p,v]=(0,o.useState)(""),w=(0,o.useRef)(null),b=(0,o.useRef)(null);if(o.default.useEffect(()=>(g&&w.current?(b.current=new y(w.current,e=>{h(e.data),m(!1),b.current&&b.current.stop()},{highlightScanRegion:!0,highlightCodeOutline:!0}),b.current.start()):b.current&&(b.current.stop(),b.current=null),()=>{b.current&&b.current.stop()}),[g]),!t)return null;let x=async()=>{try{let e={children:n.children,chores:n.chores,choreTemplates:n.choreTemplates,parentSettings:{pin:n.parentSettings.pin,approvals:n.parentSettings.approvals},completedTasks:n.completedTasks,oneOffTasks:n.oneOffTasks},t=JSON.stringify(e),a=tZ.deflate(t),i=String.fromCharCode(...a),r=btoa(i);try{let e=await _.default.toDataURL(r,{width:256,margin:2,errorCorrectionLevel:"L"});l(e)}catch(e){console.warn("Compressed data still too large for QR code, showing text instead"),l("TEXT:".concat(r))}}catch(e){console.error("QR Code generation error:",e),v("Failed to generate configuration data.")}};return(0,s.jsx)("div",{className:"modal",style:{display:"block"},children:(0,s.jsxs)("div",{className:"modal-content",children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"📱 Sync Data"}),(0,s.jsx)("span",{className:"close",onClick:a,children:"×"})]}),(0,s.jsxs)("div",{className:"modal-body",children:[p&&(0,s.jsxs)("div",{className:"error-message",style:{marginBottom:"20px"},children:[p,(0,s.jsx)("button",{style:{float:"right",background:"none",border:"none",cursor:"pointer"},onClick:()=>v(""),children:"×"})]}),(0,s.jsxs)("div",{className:"sync-section",children:[(0,s.jsx)("h3",{children:"Share Configuration"}),(0,s.jsx)("p",{children:"Generate configuration data to share with other devices:"}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:x,children:"Generate Config Data"}),r&&(0,s.jsx)("div",{className:"qr-container",children:r.startsWith("TEXT:")?(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"10px"},children:"Configuration data (too large for QR code):"}),(0,s.jsx)("textarea",{readOnly:!0,value:r.substring(5),style:{width:"100%",height:"100px",fontFamily:"monospace",fontSize:"12px"}}),(0,s.jsx)("button",{className:"btn btn-secondary",onClick:()=>navigator.clipboard.writeText(r.substring(5)),style:{marginTop:"10px"},children:"Copy to Clipboard"})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{src:r,alt:"QR Code for configuration data",style:{maxWidth:"100%",height:"auto",border:"1px solid #e2e8f0"}}),(0,s.jsx)("p",{style:{fontSize:"0.9rem",color:"#666",marginTop:"10px"},children:"Scan this QR code with another device to import the configuration"})]})})]}),(0,s.jsxs)("div",{className:"sync-section",children:[(0,s.jsx)("h3",{children:"Import Configuration"}),(0,s.jsxs)("div",{className:"import-options",children:[(0,s.jsx)("button",{className:"btn btn-primary",onClick:()=>m(!g),children:g?"Stop":"📷 Scan QR Code"}),(0,s.jsx)("button",{className:"btn btn-secondary",onClick:()=>f(!u),children:u?"Hide":"✏️ Manual Entry"})]}),g&&(0,s.jsxs)("div",{className:"qr-scanner",style:{marginTop:"15px"},children:[(0,s.jsx)("video",{ref:w,style:{width:"100%",maxWidth:"400px",height:"auto"}}),(0,s.jsx)("p",{style:{textAlign:"center",marginTop:"10px"},children:"Position QR code within the camera view"})]}),u&&(0,s.jsxs)("div",{style:{marginTop:"15px"},children:[(0,s.jsx)("p",{children:"Paste configuration data from another device:"}),(0,s.jsx)("textarea",{placeholder:"Paste configuration data here...",value:d,onChange:e=>h(e.target.value),style:{width:"100%",height:"120px",fontFamily:"monospace"}}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:()=>{if(!d.trim())return void v("Please paste configuration data");try{let e;try{let t=atob(d),a=new Uint8Array(t.length);for(let e=0;e<t.length;e++)a[e]=t.charCodeAt(e);let n=tZ.inflate(a),i=String.fromCharCode(...n);e=JSON.parse(i)}catch(t){try{let t=decodeURIComponent(atob(d));e=JSON.parse(t)}catch(t){e=JSON.parse(d)}}if(!e.children)throw Error("Invalid configuration format");let t={children:e.children||[],chores:e.chores||[],choreTemplates:e.choreTemplates||[],parentSettings:e.parentSettings||n.parentSettings,completedTasks:e.completedTasks||{},oneOffTasks:e.oneOffTasks||{}};i({type:"SET_STATE",payload:t}),h(""),v(""),alert("Configuration imported successfully!"),a()}catch(e){console.error("Import error:",e),v("Error importing configuration. Please check the data format.")}},children:"Import Data"})]})]})]}),(0,s.jsx)("div",{className:"modal-footer",children:(0,s.jsx)("button",{className:"btn btn-secondary",onClick:a,children:"Close"})})]})})}function tq(e){let{open:t,onClose:a,child:n,onSave:i,onDelete:r}=e,[l,d]=(0,o.useState)("");return(o.default.useEffect(()=>{n&&d(n.name)},[n]),t&&n)?(0,s.jsx)("div",{className:"modal-overlay",children:(0,s.jsxs)("div",{className:"modal",children:[(0,s.jsx)("h2",{children:"Edit Child"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i({...n,name:l})},children:[(0,s.jsxs)("label",{children:["Name:",(0,s.jsx)("input",{value:l,onChange:e=>d(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsx)("button",{type:"submit",children:"Save"}),(0,s.jsx)("button",{type:"button",onClick:a,children:"Cancel"}),(0,s.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>r(n.id),children:"Delete"})]})]})]})}):null}function tV(e){let{open:t,onClose:a,onAdd:n}=e,[i,r]=(0,o.useState)("");return t?(0,s.jsx)("div",{className:"modal-overlay",children:(0,s.jsxs)("div",{className:"modal",children:[(0,s.jsx)("h2",{children:"Add Child"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n({name:i}),r(""),a()},children:[(0,s.jsxs)("label",{children:["Name:",(0,s.jsx)("input",{value:i,onChange:e=>r(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsx)("button",{type:"submit",children:"Add"}),(0,s.jsx)("button",{type:"button",onClick:a,children:"Cancel"})]})]})]})}):null}function tK(e){let{open:t,onClose:a,onAdd:n}=e,[i,r]=(0,o.useState)(""),[l,d]=(0,o.useState)(""),[h,c]=(0,o.useState)("#cccccc"),[u,f]=(0,o.useState)(1),[g,m]=(0,o.useState)(0);return t?(0,s.jsx)("div",{className:"modal-overlay",children:(0,s.jsxs)("div",{className:"modal",children:[(0,s.jsx)("h2",{children:"Add Chore"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n({name:i,emoji:l,color:h,starReward:u,moneyReward:g}),r(""),d(""),c("#cccccc"),f(1),m(0),a()},children:[(0,s.jsxs)("label",{children:["Name:",(0,s.jsx)("input",{value:i,onChange:e=>r(e.target.value),required:!0})]}),(0,s.jsxs)("label",{children:["Emoji:",(0,s.jsx)("input",{value:l,onChange:e=>d(e.target.value),maxLength:2,required:!0})]}),(0,s.jsxs)("label",{children:["Color:",(0,s.jsx)("input",{type:"color",value:h,onChange:e=>c(e.target.value)})]}),(0,s.jsxs)("label",{children:["Star Reward:",(0,s.jsx)("input",{type:"number",value:u,min:0,onChange:e=>f(Number(e.target.value))})]}),(0,s.jsxs)("label",{children:["Money Reward:",(0,s.jsx)("input",{type:"number",value:g,min:0,step:.01,onChange:e=>m(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsx)("button",{type:"submit",children:"Add"}),(0,s.jsx)("button",{type:"button",onClick:a,children:"Cancel"})]})]})]})}):null}function tQ(e){let{open:t,onClose:a,chore:n,onSave:i,onDelete:r}=e,[l,d]=(0,o.useState)(""),[h,c]=(0,o.useState)(""),[u,f]=(0,o.useState)("#cccccc"),[g,m]=(0,o.useState)(1),[p,_]=(0,o.useState)(0);return(o.default.useEffect(()=>{n&&(d(n.name),c(n.emoji),f(n.color),m(n.starReward),_(n.moneyReward))},[n]),t&&n)?(0,s.jsx)("div",{className:"modal-overlay",children:(0,s.jsxs)("div",{className:"modal",children:[(0,s.jsx)("h2",{children:"Edit Chore"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i({...n,name:l,emoji:h,color:u,starReward:g,moneyReward:p})},children:[(0,s.jsxs)("label",{children:["Name:",(0,s.jsx)("input",{value:l,onChange:e=>d(e.target.value),required:!0})]}),(0,s.jsxs)("label",{children:["Emoji:",(0,s.jsx)("input",{value:h,onChange:e=>c(e.target.value),maxLength:2,required:!0})]}),(0,s.jsxs)("label",{children:["Color:",(0,s.jsx)("input",{type:"color",value:u,onChange:e=>f(e.target.value)})]}),(0,s.jsxs)("label",{children:["Star Reward:",(0,s.jsx)("input",{type:"number",value:g,min:0,onChange:e=>m(Number(e.target.value))})]}),(0,s.jsxs)("label",{children:["Money Reward:",(0,s.jsx)("input",{type:"number",value:p,min:0,step:.01,onChange:e=>_(Number(e.target.value))})]}),(0,s.jsxs)("div",{className:"modal-actions",children:[(0,s.jsx)("button",{type:"submit",children:"Save"}),(0,s.jsx)("button",{type:"button",onClick:a,children:"Cancel"}),(0,s.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>r(n.id),children:"Delete"})]})]})]})}):null}function tY(e){let{children:t}=e,[a,n]=(0,o.useState)(!1),[i,r]=(0,o.useState)(!1),[d,_]=(0,o.useState)(null),[y,v]=(0,o.useState)(!1),[w,b]=(0,o.useState)(!1),[x,k]=(0,o.useState)(!1),[j,C]=(0,o.useState)(!1),[S,E]=(0,o.useState)(null),[N,A]=(0,o.useState)(!1),[T,R]=(0,o.useState)(null),[z,D]=(0,o.useState)(!1),[I,M]=(0,o.useState)(!1),[P,B]=(0,o.useState)(!1),[O,L]=(0,o.useState)(null),{state:U,dispatch:F}=(0,c.useChoresApp)(),H=()=>M(!0),$=()=>D(!0);return(0,s.jsx)(l.ModalControlContext.Provider,{value:{openTaskEditModal:e=>{_(e),r(!0)},openAddTaskModal:e=>{E(e),v(!0)},openEditChildModal:e=>{R(e),A(!0)},openAddChildModal:$,openAddChoreModal:H,openEditChoreModal:e=>{L(e),B(!0)},openOneOffTaskModal:e=>{E(e),k(!0)}},children:(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)(h,{onSettingsClick:()=>n(!0),onSyncClick:()=>C(!0)}),(0,s.jsx)(u,{open:a,onClose:()=>n(!1)}),(0,s.jsx)(f,{open:i,onClose:()=>r(!1),task:U.chores.find(e=>e.id===d)||null,onSave:e=>{F({type:"SET_STATE",payload:{...U,chores:U.chores.map(t=>t.id===e.id?{...t,...e}:t)}}),r(!1)}}),(0,s.jsx)(g,{open:y,onClose:()=>v(!1),onAdd:e=>{F({type:"SET_STATE",payload:{...U,chores:[...U.chores,{id:U.chores.length>0?Math.max(...U.chores.map(e=>e.id))+1:1,name:e.name,emoji:e.emoji,color:e.color,recurrence:"daily",customDays:[],eligibleChildren:null!==S?[S]:[],starReward:e.starReward,moneyReward:e.moneyReward}]}})}}),(0,s.jsx)(tK,{open:I,onClose:()=>M(!1),onAdd:e=>{F({type:"SET_STATE",payload:{...U,chores:[...U.chores,{id:U.chores.length>0?Math.max(...U.chores.map(e=>e.id))+1:1,name:e.name,emoji:e.emoji,color:e.color,recurrence:"daily",customDays:[],eligibleChildren:[],starReward:e.starReward,moneyReward:e.moneyReward}]}})}}),(0,s.jsx)(tQ,{open:P,onClose:()=>B(!1),chore:U.chores.find(e=>e.id===O)||null,onSave:e=>{F({type:"SET_STATE",payload:{...U,chores:U.chores.map(t=>t.id===e.id?{...t,...e}:t)}}),B(!1)},onDelete:e=>{window.confirm("Are you sure you want to delete this chore?")&&(F({type:"SET_STATE",payload:{...U,chores:U.chores.filter(t=>t.id!==e)}}),B(!1))}}),(0,s.jsx)(tV,{open:z,onClose:()=>D(!1),onAdd:e=>{F({type:"SET_STATE",payload:{...U,children:[...U.children,{id:U.children.length>0?Math.max(...U.children.map(e=>e.id))+1:1,name:e.name,stars:0,money:0}]}})}}),(0,s.jsx)(tq,{open:N,onClose:()=>A(!1),child:U.children.find(e=>e.id===T)||null,onSave:e=>{F({type:"SET_STATE",payload:{...U,children:U.children.map(t=>t.id===e.id?{...t,...e}:t)}}),A(!1)},onDelete:e=>{window.confirm("Are you sure you want to delete this child?")&&(F({type:"SET_STATE",payload:{...U,children:U.children.filter(t=>t.id!==e)}}),A(!1))}}),(0,s.jsx)(m,{open:w,onClose:()=>b(!1),onSuccess:()=>b(!1)}),(0,s.jsx)(p,{open:x,onClose:()=>k(!1),childId:S||void 0}),(0,s.jsx)(tW,{open:j,onClose:()=>C(!1)}),t,(0,s.jsxs)("div",{style:{position:"fixed",bottom:10,right:10,zIndex:2e3},children:[(0,s.jsx)("button",{className:"btn btn-primary",onClick:$,style:{marginRight:4},children:"+ Add Child"}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:H,children:"+ Add Chore"})]})]})})}function tJ(e){let{Component:t,pageProps:a}=e;return(0,s.jsx)(c.ChoresAppProvider,{children:(0,s.jsx)(tY,{children:(0,s.jsx)(t,{...a})})})}},8146,(e,t,a)=>{let n="/_app";(window.__NEXT_P=window.__NEXT_P||[]).push([n,()=>e.r(3115)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([n])})}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20955,(e,t,n)=>{!function(){var e={229:function(e){var t,n,r,i=e.exports={};function a(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}var l=[],c=!1,u=-1;function d(){c&&r&&(c=!1,r.length?l=r.concat(l):u=-1,l.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(r=l,l=[];++u<t;)r&&r[u].run();u=-1,t=l.length}r=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var a=n[t]={exports:{}},o=!0;try{e[t](a,a.exports,r),o=!1}finally{o&&delete n[t]}return a.exports}r.ab="/ROOT/node_modules/next/dist/compiled/process/",t.exports=r(229)}()},50461,(e,t,n)=>{"use strict";var r,i;t.exports=(null==(r=e.g.process)?void 0:r.env)&&"object"==typeof(null==(i=e.g.process)?void 0:i.env)?e.g.process:e.r(20955)},8481,(e,t,n)=>{"use strict";var r=Symbol.for("react.transitional.element");function i(e,t,n){var i=null;if(void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in n={},t)"key"!==a&&(n[a]=t[a]);else n=t;return{$$typeof:r,type:e,key:i,ref:void 0!==(t=n.ref)?t:null,props:n}}n.Fragment=Symbol.for("react.fragment"),n.jsx=i,n.jsxs=i},91398,(e,t,n)=>{"use strict";t.exports=e.r(8481)},61556,(e,t,n)=>{"use strict";var r=e.i(50461),i=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator,y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||y}function w(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||y}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=b.prototype;var j=x.prototype=new w;j.constructor=x,v(j,b.prototype),j.isPureReactComponent=!0;var k=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function S(e,t,n,r,a,o){return{$$typeof:i,type:e,key:t,ref:void 0!==(n=o.ref)?n:null,props:o}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function A(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function _(){}function R(e,t,n){if(null==e)return e;var r=[],o=0;return!function e(t,n,r,o,s){var l,c,u,d=typeof t;("undefined"===d||"boolean"===d)&&(t=null);var f=!1;if(null===t)f=!0;else switch(d){case"bigint":case"string":case"number":f=!0;break;case"object":switch(t.$$typeof){case i:case a:f=!0;break;case h:return e((f=t._init)(t._payload),n,r,o,s)}}if(f)return s=s(t),f=""===o?"."+A(t,0):o,k(s)?(r="",null!=f&&(r=f.replace(T,"$&/")+"/"),e(s,n,r,"",function(e){return e})):null!=s&&(N(s)&&(l=s,c=r+(null==s.key||t&&t.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+f,s=S(l.type,c,void 0,void 0,void 0,l.props)),n.push(s)),1;f=0;var p=""===o?".":o+":";if(k(t))for(var y=0;y<t.length;y++)d=p+A(o=t[y],y),f+=e(o,n,r,d,s);else if("function"==typeof(y=null===(u=t)||"object"!=typeof u?null:"function"==typeof(u=m&&u[m]||u["@@iterator"])?u:null))for(t=y.call(t),y=0;!(o=t.next()).done;)d=p+A(o=o.value,y++),f+=e(o,n,r,d,s);else if("object"===d){if("function"==typeof t.then)return e(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(t),n,r,o,s);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}return f}(e,r,"","",function(e){return t.call(n,e,o++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof r.default&&"function"==typeof r.default.emit)return void r.default.emit("uncaughtException",e);console.error(e)};function D(){}n.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=b,n.Fragment=o,n.Profiler=l,n.PureComponent=x,n.StrictMode=s,n.Suspense=f,n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,n.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},n.cache=function(e){return function(){return e.apply(null,arguments)}},n.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=v({},e.props),i=e.key,a=void 0;if(null!=t)for(o in void 0!==t.ref&&(a=void 0),void 0!==t.key&&(i=""+t.key),t)E.call(t,o)&&"key"!==o&&"__self"!==o&&"__source"!==o&&("ref"!==o||void 0!==t.ref)&&(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];r.children=s}return S(e.type,i,void 0,void 0,a,r)},n.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:c,_context:e},e},n.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return S(e,a,void 0,void 0,null,i)},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:d,render:e}},n.isValidElement=N,n.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},n.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},n.startTransition=function(e){var t=C.T,n={};C.T=n;try{var r=e(),i=C.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(D,I)}catch(e){I(e)}finally{C.T=t}},n.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},n.use=function(e){return C.H.use(e)},n.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},n.useCallback=function(e,t){return C.H.useCallback(e,t)},n.useContext=function(e){return C.H.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},n.useEffect=function(e,t,n){var r=C.H;if("function"==typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},n.useId=function(){return C.H.useId()},n.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},n.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},n.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},n.useMemo=function(e,t){return C.H.useMemo(e,t)},n.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},n.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},n.useRef=function(e){return C.H.useRef(e)},n.useState=function(e){return C.H.useState(e)},n.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},n.useTransition=function(){return C.H.useTransition()},n.version="19.1.0"},91788,(e,t,n)=>{"use strict";t.exports=e.r(61556)},41705,(e,t,n)=>{"use strict";n._=function(e){return e&&e.__esModule?e:{default:e}}},13584,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"HeadManagerContext",{enumerable:!0,get:function(){return r}});let r=e.r(41705)._(e.r(91788)).default.createContext({})},94470,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},52456,(e,t,n)=>{"use strict";function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}n._=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}},24760,e=>{"use strict";function t(e,t,n){return r=>{var i,a;return null!=(a=null==(i=e[t.name||n])?void 0:i.call(e,r))?a:t(e,r)}}e.s(["getAction",()=>t])},43217,62376,66012,71263,e=>{"use strict";e.s(["isNullUniversalResolverError",()=>i],43217);var t=e.i(81041),n=e.i(21910),r=e.i(11753);function i(e,i){var a,o,s;if(!(e instanceof n.BaseError))return!1;let l=e.walk(e=>e instanceof r.ContractFunctionRevertedError);return l instanceof r.ContractFunctionRevertedError&&(!!((null==(a=l.data)?void 0:a.errorName)==="ResolverNotFound"||(null==(o=l.data)?void 0:o.errorName)==="ResolverWildcardNotSupported"||(null==(s=l.reason)?void 0:s.includes("Wildcard on non-extended resolvers is not supported")))||"reverse"===i&&l.reason===t.panicReasons[50])}e.s(["namehash",()=>d],62376);var a=e.i(49578),o=e.i(1773),s=e.i(70482),l=e.i(82149),c=e.i(21053);function u(e){if(66!==e.length||0!==e.indexOf("[")||65!==e.indexOf("]"))return null;let t="0x".concat(e.slice(1,65));return(0,c.isHex)(t)?t:null}function d(e){let t=new Uint8Array(32).fill(0);if(!e)return(0,s.bytesToHex)(t);let n=e.split(".");for(let e=n.length-1;e>=0;e-=1){let r=u(n[e]),i=r?(0,o.toBytes)(r):(0,l.keccak256)((0,o.stringToBytes)(n[e]),"bytes");t=(0,l.keccak256)((0,a.concat)([t,i]),"bytes")}return(0,s.bytesToHex)(t)}function f(e){let t=new Uint8Array(32).fill(0);return e?u(e)||(0,l.keccak256)((0,o.stringToBytes)(e)):(0,s.bytesToHex)(t)}function p(e){let t=e.replace(/^\.|\.$/gm,"");if(0===t.length)return new Uint8Array(1);let n=new Uint8Array((0,o.stringToBytes)(t).byteLength+2),r=0,i=t.split(".");for(let e=0;e<i.length;e++){var a;let t=(0,o.stringToBytes)(i[e]);t.byteLength>255&&(t=(0,o.stringToBytes)((a=f(i[e]),"[".concat(a.slice(2),"]")))),n[r]=t.length,n.set(t,r+1),r+=t.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}e.s(["packetToBytes",()=>p],71263),e.s(["labelhash",()=>f],66012)},88986,59210,72632,81304,63318,44606,32768,e=>{"use strict";e.s(["getEnsAddress",()=>g],88986);var t=e.i(83735),n=e.i(47739),r=e.i(17266),i=e.i(6197),a=e.i(80136),o=e.i(70482),s=e.i(43217),l=e.i(62376),c=e.i(71263),u=e.i(24760);e.s(["readContract",()=>v],72632),e.s(["getContractError",()=>m],59210);var d=e.i(77777),f=e.i(21910),p=e.i(11753),h=e.i(10546);function m(e,t){let{abi:n,address:r,args:i,docsPath:a,functionName:o,sender:s}=t,{code:l,data:c,message:u,shortMessage:m}=e instanceof p.RawContractError?e:e instanceof f.BaseError?e.walk(e=>"data"in e)||e.walk():{},y=e instanceof d.AbiDecodingZeroDataError?new p.ContractFunctionZeroDataError({functionName:o}):[3,h.InternalRpcError.code].includes(l)&&(c||u||m)?new p.ContractFunctionRevertedError({abi:n,data:"object"==typeof c?c.data:c,functionName:o,message:null!=m?m:u}):e;return new p.ContractFunctionExecutionError(y,{abi:n,args:i,contractAddress:r,docsPath:a,functionName:o,sender:s})}var y=e.i(67272);async function v(e,t){let{abi:i,address:a,args:o,functionName:s,...l}=t,c=(0,r.encodeFunctionData)({abi:i,args:o,functionName:s});try{let{data:t}=await (0,u.getAction)(e,y.call,"call")({data:c,to:a,...l});return(0,n.decodeFunctionResult)({abi:i,args:o,functionName:s,data:t||"0x"})}catch(e){throw m(e,{abi:i,address:a,args:o,docsPath:"/docs/contract/readContract",functionName:s})}}async function g(e,d){let{blockNumber:f,blockTag:p,coinType:h,name:m,universalResolverAddress:y}=d,g=y;if(!g){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");g=(0,i.getChainContractAddress)({blockNumber:f,chain:e.chain,contract:"ensUniversalResolver"})}try{let i=(0,r.encodeFunctionData)({abi:t.addressResolverAbi,functionName:"addr",...null!=h?{args:[(0,l.namehash)(m),BigInt(h)]}:{args:[(0,l.namehash)(m)]}}),s=await (0,u.getAction)(e,v,"readContract")({address:g,abi:t.universalResolverResolveAbi,functionName:"resolve",args:[(0,o.toHex)((0,c.packetToBytes)(m)),i],blockNumber:f,blockTag:p});if("0x"===s[0])return null;let d=(0,n.decodeFunctionResult)({abi:t.addressResolverAbi,args:null!=h?[(0,l.namehash)(m),BigInt(h)]:void 0,functionName:"addr",data:s[0]});if("0x"===d||"0x00"===(0,a.trim)(d))return null;return d}catch(e){if((0,s.isNullUniversalResolverError)(e,"resolve"))return null;throw e}}e.s(["getEnsAvatar",()=>H],63318);var b=f;class w extends b.BaseError{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","","Provided data: ".concat(JSON.stringify(e))]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class x extends b.BaseError{constructor({reason:e}){super("ENS NFT avatar URI is invalid. ".concat(e)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class j extends b.BaseError{constructor({uri:e}){super('Unable to resolve ENS avatar URI "'.concat(e,'". The URI may be malformed, invalid, or does not respond with a valid image.')),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class k extends b.BaseError{constructor({namespace:e}){super('ENS NFT avatar namespace "'.concat(e,'" is not supported. Must be "erc721" or "erc1155".')),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}let C=RegExp("(?<protocol>https?:\\/\\/[^\\/]*|ipfs:\\/|ipns:\\/|ar:\\/)?(?<root>\\/)?(?<subpath>ipfs\\/|ipns\\/)?(?<target>[\\w\\-.]+)(?<subtarget>\\/.*)?"),E=RegExp("^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\\/(?<target>[\\w\\-.]+))?(?<subtarget>\\/.*)?$"),S=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,N=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function T(e){try{let t=await fetch(e,{method:"HEAD"});if(200===t.status){let e=t.headers.get("content-type");return null==e?void 0:e.startsWith("image/")}return!1}catch(t){if("object"==typeof t&&void 0!==t.response||!globalThis.hasOwnProperty("Image"))return!1;return new Promise(t=>{let n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e})}}function A(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function _(e){let{uri:t,gatewayUrls:n}=e,r=S.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};let i=A(null==n?void 0:n.ipfs,"https://ipfs.io"),a=A(null==n?void 0:n.arweave,"https://arweave.net"),o=t.match(C),{protocol:s,subpath:l,target:c,subtarget:u=""}=(null==o?void 0:o.groups)||{},d="ipns:/"===s||"ipns/"===l,f="ipfs:/"===s||"ipfs/"===l||E.test(t);if(t.startsWith("http")&&!d&&!f){let e=t;return(null==n?void 0:n.arweave)&&(e=t.replace(/https:\/\/arweave.net/g,null==n?void 0:n.arweave)),{uri:e,isOnChain:!1,isEncoded:!1}}if((d||f)&&c)return{uri:"".concat(i,"/").concat(d?"ipns":"ipfs","/").concat(c).concat(u),isOnChain:!1,isEncoded:!1};if("ar:/"===s&&c)return{uri:"".concat(a,"/").concat(c).concat(u||""),isOnChain:!1,isEncoded:!1};let p=t.replace(N,"");if(p.startsWith("<svg")&&(p="data:image/svg+xml;base64,".concat(btoa(p))),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new j({uri:t})}function R(e){if("object"!=typeof e||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new w({data:e});return e.image||e.image_url||e.image_data}async function O(e){let{gatewayUrls:t,uri:n}=e;try{let e=await fetch(n).then(e=>e.json());return await I({gatewayUrls:t,uri:R(e)})}catch(e){throw new j({uri:n})}}async function I(e){let{gatewayUrls:t,uri:n}=e,{uri:r,isOnChain:i}=_({uri:n,gatewayUrls:t});if(i||await T(r))return r;throw new j({uri:n})}async function D(e,t){let{nft:n}=t;if("erc721"===n.namespace)return v(e,{address:n.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(n.tokenID)]});if("erc1155"===n.namespace)return v(e,{address:n.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(n.tokenID)]});throw new k({namespace:n.namespace})}async function P(e,t){let{gatewayUrls:n,record:r}=t;return/eip155:/i.test(r)?M(e,{gatewayUrls:n,record:r}):I({uri:r,gatewayUrls:n})}async function M(e,t){let{gatewayUrls:n,record:r}=t,i=function(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));let[n,r,i]=t.split("/"),[a,o]=n.split(":"),[s,l]=r.split(":");if(!a||"eip155"!==a.toLowerCase())throw new x({reason:"Only EIP-155 supported"});if(!o)throw new x({reason:"Chain ID not found"});if(!l)throw new x({reason:"Contract address not found"});if(!i)throw new x({reason:"Token ID not found"});if(!s)throw new x({reason:"ERC namespace not found"});return{chainID:parseInt(o),namespace:s.toLowerCase(),contractAddress:l,tokenID:i}}(r),{uri:a,isOnChain:o,isEncoded:s}=_({uri:await D(e,{nft:i}),gatewayUrls:n});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{")))return I({uri:R(JSON.parse(s?atob(a.replace("data:application/json;base64,","")):a)),gatewayUrls:n});let l=i.tokenID;return"erc1155"===i.namespace&&(l=l.replace("0x","").padStart(64,"0")),O({gatewayUrls:n,uri:a.replace(/(?:0x)?{id}/,l)})}async function L(e,a){let{blockNumber:d,blockTag:f,name:p,key:h,universalResolverAddress:m}=a,y=m;if(!y){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");y=(0,i.getChainContractAddress)({blockNumber:d,chain:e.chain,contract:"ensUniversalResolver"})}try{let i=await (0,u.getAction)(e,v,"readContract")({address:y,abi:t.universalResolverResolveAbi,functionName:"resolve",args:[(0,o.toHex)((0,c.packetToBytes)(p)),(0,r.encodeFunctionData)({abi:t.textResolverAbi,functionName:"text",args:[(0,l.namehash)(p),h]})],blockNumber:d,blockTag:f});if("0x"===i[0])return null;let a=(0,n.decodeFunctionResult)({abi:t.textResolverAbi,functionName:"text",data:i[0]});return""===a?null:a}catch(e){if((0,s.isNullUniversalResolverError)(e,"resolve"))return null;throw e}}async function H(e,t){let{blockNumber:n,blockTag:r,gatewayUrls:i,name:a,universalResolverAddress:o}=t,s=await (0,u.getAction)(e,L,"getEnsText")({blockNumber:n,blockTag:r,key:"avatar",name:a,universalResolverAddress:o});if(!s)return null;try{return await P(e,{record:s,gatewayUrls:i})}catch(e){return null}}async function U(e,n){let{address:r,blockNumber:a,blockTag:l,universalResolverAddress:d}=n,f=d;if(!f){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");f=(0,i.getChainContractAddress)({blockNumber:a,chain:e.chain,contract:"ensUniversalResolver"})}let p="".concat(r.toLowerCase().substring(2),".addr.reverse");try{let[n,i]=await (0,u.getAction)(e,v,"readContract")({address:f,abi:t.universalResolverReverseAbi,functionName:"reverse",args:[(0,o.toHex)((0,c.packetToBytes)(p))],blockNumber:a,blockTag:l});if(r.toLowerCase()!==i.toLowerCase())return null;return n}catch(e){if((0,s.isNullUniversalResolverError)(e,"reverse"))return null;throw e}}async function F(e,t){let{blockNumber:n,blockTag:r,name:a,universalResolverAddress:s}=t,l=s;if(!l){if(!e.chain)throw Error("client chain not configured. universalResolverAddress is required.");l=(0,i.getChainContractAddress)({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}let[d]=await (0,u.getAction)(e,v,"readContract")({address:l,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,o.toHex)((0,c.packetToBytes)(a))],blockNumber:n,blockTag:r});return d}e.s(["getEnsText",()=>L],81304),e.s(["getEnsName",()=>U],44606),e.s(["getEnsResolver",()=>F],32768)},89129,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(n,{DecodeError:function(){return m},MiddlewareNotFoundError:function(){return b},MissingStaticPage:function(){return g},NormalizeError:function(){return y},PageNotFoundError:function(){return v},SP:function(){return p},ST:function(){return h},WEB_VITALS:function(){return r},execOnce:function(){return i},getDisplayName:function(){return c},getLocationOrigin:function(){return s},getURL:function(){return l},isAbsoluteUrl:function(){return o},isResSent:function(){return u},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return d},stringifyError:function(){return w}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,n=!1;return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return n||(n=!0,t=e(...i)),t}}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>a.test(e);function s(){let{protocol:e,hostname:t,port:n}=window.location;return e+"//"+t+(n?":"+n:"")}function l(){let{href:e}=window.location,t=s();return e.substring(t.length)}function c(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function u(e){return e.finished||e.headersSent}function d(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function f(e,t){let n=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let r=await e.getInitialProps(t);if(n&&u(n))return r;if(!r)throw Object.defineProperty(Error('"'+c(e)+'.getInitialProps()" should resolve to an object. But found "'+r+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}let p="undefined"!=typeof performance,h=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class m extends Error{}class y extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class g extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class b extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},43181,e=>{"use strict";e.s(["default",()=>x],43181);var t=e.i(91398),n=e.i(91788),r=e.i(66402),i=e.i(85134),a=e.i(55824);function o(e){let{startedAt:r,allowedSeconds:i,size:a=32}=e,[o,s]=n.default.useState(()=>Date.now());n.default.useEffect(()=>{let e=setInterval(()=>s(Date.now()),1e3);return()=>clearInterval(e)},[]);let l=Math.max(0,Math.floor((o-new Date(r).getTime())/1e3)),c=(a-4)/2,u=2*Math.PI*c,d=u*Math.min(Math.max(l/i,0),1),f=l>i?Math.min((l-i)/i,1):0,p=u*f;return(0,t.jsx)("div",{style:{width:a,height:a,display:"inline-block"},"aria-hidden":!0,children:(0,t.jsx)("svg",{width:a,height:a,viewBox:"0 0 ".concat(a," ").concat(a),children:(0,t.jsxs)("g",{transform:"translate(".concat(a/2,", ").concat(a/2,")"),children:[(0,t.jsx)("circle",{r:c,cx:0,cy:0,fill:"none",stroke:"#eef2ff",strokeWidth:3}),(0,t.jsx)("circle",{r:c,cx:0,cy:0,fill:"none",stroke:"#3b82f6",strokeWidth:3,strokeLinecap:"round",strokeDasharray:"".concat(d," ").concat(u-d),transform:"rotate(-90)"}),f>0&&(0,t.jsx)("circle",{r:c,cx:0,cy:0,fill:"none",stroke:"#ef4444",strokeWidth:3,strokeLinecap:"round",strokeDasharray:"".concat(p," ").concat(u-p),transform:"scale(-1,1) rotate(-90)"}),(0,t.jsx)("text",{x:0,y:4,textAnchor:"middle",fontSize:10,fill:f>0?"#ef4444":"#1f2937",style:{fontFamily:"monospace"},children:function(e){let t=Math.abs(Math.round(e)),n=Math.floor(t/60).toString().padStart(2,"0"),r=(t%60).toString().padStart(2,"0");return"".concat(e<0?"-":"").concat(n,":").concat(r)}(i-l)})]})})})}let s=function(e,t){let{state:i,dispatch:a}=(0,r.useChoresApp)(),o=(0,n.useMemo)(()=>{if(e&&i.timers)return Object.values(i.timers).find(n=>n.taskKey===e&&n.childId===t)},[i.timers,e,t]),s=(0,n.useCallback)(()=>{var n;if(!e||null==t)return;let r="t_".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2,8)),i=null!=(n=null==o?void 0:o.allowedSeconds)?n:300;a({type:"START_TIMER",payload:{timer:{id:r,taskKey:e,childId:t,startedAt:new Date().toISOString(),allowedSeconds:i}}})},[e,t,a,o]),l=(0,n.useCallback)(()=>{o&&a({type:"STOP_TIMER",payload:{timerId:o.id,stoppedAt:new Date().toISOString()}})},[o,a]),c=(0,n.useMemo)(()=>{if(!o)return!1;let e=new Date(o.startedAt).getTime();return Date.now()-e>=6e4},[o]);return{activeTimer:o,start:s,stop:l,canStopNow:c}};function l(e){let{task:l,childId:c}=e,{dispatch:u}=(0,r.useChoresApp)(),{openTaskEditModal:d}=(0,i.useModalControl)(),[f,p]=n.default.useState(!1),[h,m]=n.default.useState(!0),[y,v]=n.default.useState(null),g=function(e,t){var n;let r=null!=(n=e.id)?n:e.title?String(e.title):Math.random().toString(36).slice(2,8),i=e.type||(e.timed?"timed":"recurring"),a=e.title||e.name||"",o=e.emoji||"",s=e.color||"#ccc",l="number"==typeof e.stars?e.stars:"number"==typeof e.starReward?e.starReward:0,c="number"==typeof e.money?e.money:"number"==typeof e.moneyReward?e.moneyReward:0,u=!!e.isCompleted,d=e.taskKey||(e.id?"".concat(t,"-").concat(String(e.id),"-").concat(new Date().toISOString().split("T")[0]):void 0),f=e.timed&&e.timed.allowedSeconds?Number(e.timed.allowedSeconds):"number"==typeof e.allowedSeconds?e.allowedSeconds:void 0;return{id:r,title:a,emoji:o,color:s,stars:l,money:c,isCompleted:u,taskKey:d,type:i,timedAllowedSeconds:f,pendingCompletionId:e.pendingCompletionId,pendingCompletion:e.pendingCompletion}}(l,c),{taskKey:b}=g,{activeTimer:w,start:x,stop:j,canStopNow:k}=s(b,c),{emoji:C,title:E,stars:S,money:N,color:T,isCompleted:A}=g;return(0,t.jsxs)("div",{className:"task-item".concat(A?" completed":""),style:{borderColor:T},draggable:!A,onDragStart:e=>{e.dataTransfer.setData("text/plain",JSON.stringify({taskId:g.id,taskKey:g.taskKey,sourceChildId:c,taskType:g.type})),e.dataTransfer.effectAllowed="move"},children:[!A&&(0,t.jsx)("span",{className:"drag-handle",children:"â‹®â‹®"}),(0,t.jsxs)("div",{className:"task-info",children:[(0,t.jsx)("span",{className:"task-emoji",children:C}),w&&(0,t.jsx)("div",{style:{marginLeft:8},children:(0,t.jsx)(o,{startedAt:w.startedAt,allowedSeconds:w.allowedSeconds,size:36})}),(0,t.jsxs)("div",{className:"task-details",children:[(0,t.jsx)("div",{className:"task-name",children:E}),(0,t.jsxs)("div",{className:"task-reward",children:[(0,t.jsxs)("span",{children:["â­ ",Number(S)]}),(0,t.jsxs)("span",{children:["ðŸ’° $",Number(N).toFixed(2)]})]})]})]}),(0,t.jsxs)("div",{className:"task-actions",children:["timed"!==g.type&&"number"!=typeof g.timedAllowedSeconds?(0,t.jsx)("button",{className:"complete-btn",onClick:()=>{"timed"!==g.type&&"number"!=typeof g.timedAllowedSeconds&&b&&u({type:"COMPLETE_TASK",payload:{taskKey:b,childId:c,starReward:Number(g.stars||0),moneyReward:Number(g.money||0)}})},disabled:A,children:A?"âœ“ Done":"Complete"}):w?(0,t.jsx)("button",{className:"complete-btn",onClick:()=>j(),disabled:!k,children:"Stop"}):(0,t.jsx)("button",{className:"complete-btn",onClick:()=>x(),disabled:A,children:"Start"}),g.pendingCompletionId&&(0,t.jsxs)("div",{className:"pending-actions",children:[(0,t.jsx)("span",{className:"pending-label",children:"Pending approval"}),(0,t.jsx)("button",{className:"approve-btn",onClick:()=>{let e=g.pendingCompletionId;e&&(v(e),m(!0),p(!0))},children:"Approve"}),(0,t.jsx)("button",{className:"forgive-btn",onClick:()=>{let e=g.pendingCompletionId;e&&(v(e),m(!1),p(!0))},children:"Forgive"})]}),(0,t.jsx)("button",{className:"edit-btn",onClick:()=>{d(g.id)},title:"Edit task",children:"âœï¸"}),(0,t.jsx)("button",{className:"btn btn-danger",onClick:()=>{if(window.confirm("Are you sure you want to delete this task?")){let e=g.id,t="number"==typeof e?e:Number(e);if(Number.isNaN(t))return void alert("Cannot delete this task from the legacy delete action. Use the Tasks screen to remove it.");u({type:"DELETE_CHORE_TEMPLATE",payload:t})}},title:"Delete task",children:"ðŸ—‘ï¸"}),(0,t.jsx)(a.default,{open:f,onClose:()=>p(!1),onSuccess:e=>{y&&(u({type:"APPROVE_TIMED_COMPLETION",payload:{completionId:y,approve:!0,applyMoney:h,actorHandle:e}}),p(!1),v(null))},message:h?"Approve this timed completion?":"Forgive money for this timed completion?"})]})]})}function c(e){let t=new Date,n=t.getDay();switch(e.recurrence){case"daily":default:return!0;case"weekly":return n===e.id%7;case"monthly":let r=new Date(t.getFullYear(),t.getMonth(),1),i=e.id%7,a=new Date(r);return a.setDate(a.getDate()+(i-a.getDay()+7)%7),t.getDate()===a.getDate();case"weekdays":return n>=1&&n<=5;case"weekends":return 0===n||6===n;case"custom-days":return e.customDays.includes(n)}}function u(e,t){let n=0===e.eligibleChildren.length?t:t.filter(t=>e.eligibleChildren.includes(t.id));if(0===n.length)return null;let r=(Math.floor((new Date().getTime()-new Date(2023,0,1).getTime())/864e5)+e.id)%n.length;return n[r]}function d(e,t,n){return"".concat(e,"-oneoff-").concat(t,"-").concat(n)}var f=e.i(51575),p=e.i(8430),h=e.i(18994),m=e.i(41943);let y=["function transfer(address to, uint256 amount) returns (bool)","function decimals() view returns (uint8)","function symbol() view returns (string)"];function v(e){let{open:r,onClose:i,child:a,defaultAmount:o=0}=e,{address:s}=(0,f.useAccount)(),{connectAsync:l}=(0,f.useConnect)(),{chain:c}=(0,f.useNetwork)(),{switchNetwork:u}=(0,f.useSwitchNetwork)(),{data:d}=(0,f.useWalletClient)(),[v,g]=n.default.useState(null),[b,w]=n.default.useState(o?String(o):"0.01"),[x,j]=n.default.useState("ETH"),[k,C]=n.default.useState(null),[E,S]=n.default.useState(1);n.default.useEffect(()=>{r||(C(null),w(o?String(o):"0.01"))},[r,o]);let N=async()=>{try{var e;if(!window.ethereum)return void C("No web3 wallet found");let t=await l({connector:new p.InjectedConnector}),n=(null==t?void 0:t.account)||s;n&&g(String(n)),S((null==t||null==(e=t.chain)?void 0:e.id)||(null==c?void 0:c.id)||1),C("Connected: "+(n||""))}catch(e){C("Connect error: "+String((null==e?void 0:e.message)||String(e)))}},T=async e=>{if(!window.ethereum)return C("No wallet");try{if(u)u(e),C("Switched network"),S(e);else{let t=window.ethereum;t.request&&await t.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x"+e.toString(16)}]}),C("Switched network"),S(e)}}catch(e){C("Switch error: "+String((null==e?void 0:e.message)||String(e)))}},A=async()=>{if(!d)return C("Please connect your wallet first");if(!a.blockchainAddress)return C("Child has no blockchain address set in Settings");try{if(C("Preparing transaction..."),"ETH"===x){let e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"wei";return(0,m.parseUnits)(e,h.etherUnits[t])}(b||"0");if(!(null==d?void 0:d.sendTransaction))return C("Wallet client can't send transactions");let t=await d.sendTransaction({to:a.blockchainAddress,value:e});C("Sent. Transaction hash: "+String(t))}else{let e={1:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",42161:"0xFF970A61A04b1cA14834A43f5dE4533eBDDB5CC8",8453:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913"}[E];if(!e)return C("USDC not configured for this network");let t=(0,m.parseUnits)(b||"0",6);if(!(null==d?void 0:d.writeContract))return C("Wallet client can't write contracts");let n=await d.writeContract({address:e,abi:y,functionName:"transfer",args:[a.blockchainAddress,t]});C("USDC transfer submitted: "+String(n))}}catch(e){C("Send error: "+String((null==e?void 0:e.message)||String(e)))}};return r?(0,t.jsx)("div",{className:"modal",style:{display:"block"},children:(0,t.jsxs)("div",{className:"modal-content",children:[(0,t.jsxs)("div",{className:"modal-header",children:[(0,t.jsxs)("h2",{children:["Pay ",a.name," On-Chain"]}),(0,t.jsx)("span",{className:"close",onClick:i,children:"Ã—"})]}),(0,t.jsxs)("div",{className:"modal-body",children:[(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("label",{children:"Child address / ENS:"}),(0,t.jsx)("div",{children:a.blockchainAddress||(0,t.jsx)("em",{children:"Not set"})})]}),(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("label",{children:"Token:"}),(0,t.jsxs)("select",{value:x,onChange:e=>j(e.target.value),children:[(0,t.jsx)("option",{value:"ETH",children:"ETH"}),(0,t.jsx)("option",{value:"USDC",children:"USDC"})]})]}),(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsxs)("label",{children:["Amount (","ETH"===x?"ETH":"USDC","):"]}),(0,t.jsx)("input",{value:b,onChange:e=>w(e.target.value)})]}),(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("label",{children:"Network:"}),(0,t.jsxs)("select",{value:E,onChange:e=>T(Number(e.target.value)),children:[(0,t.jsx)("option",{value:1,children:"Ethereum Mainnet"}),(0,t.jsx)("option",{value:42161,children:"Arbitrum One"}),(0,t.jsx)("option",{value:8453,children:"Base"})]})]}),(0,t.jsx)("div",{className:"wallet-controls",children:v?(0,t.jsxs)("div",{children:["Connected: ",v]}):(0,t.jsx)("button",{className:"btn btn-primary",onClick:N,children:"Connect Wallet"})}),(0,t.jsxs)("div",{style:{marginTop:12},children:[(0,t.jsx)("button",{className:"btn btn-primary",onClick:A,children:"Send Payment"}),(0,t.jsx)("button",{className:"btn",onClick:i,style:{marginLeft:8},children:"Cancel"})]}),k&&(0,t.jsx)("div",{style:{marginTop:12},children:k})]})]})}):null}function g(e){let{open:n,onClose:i,childId:a}=e,{state:o}=(0,r.useChoresApp)();if(!n)return null;let s=(o.actionLog||[]).filter(e=>{if(!a)return!0;let t=e.payload||{};return t.childId===a||t.child&&t.child.id===a||t.task&&t.task.childId===a}).slice().reverse().slice(0,50);return(0,t.jsx)("div",{className:"modal-overlay",children:(0,t.jsxs)("div",{className:"modal",children:[(0,t.jsxs)("h2",{children:["Action Log ",a?"for child ".concat(a):""]}),(0,t.jsxs)("div",{style:{maxHeight:"50vh",overflow:"auto"},children:[0===s.length&&(0,t.jsx)("div",{children:"No recent actions"}),s.map(e=>(0,t.jsxs)("div",{style:{borderBottom:"1px solid #eee",padding:8},children:[(0,t.jsx)("div",{style:{fontSize:12,color:"#666"},children:new Date(e.timestamp).toLocaleString()}),(0,t.jsx)("div",{children:(0,t.jsx)("strong",{children:e.actionType})}),e.actorHandle&&(0,t.jsx)("div",{style:{fontSize:12,color:"#333"},children:(0,t.jsxs)("em",{children:["Approved by: ",e.actorHandle]})}),(0,t.jsx)("pre",{style:{whiteSpace:"pre-wrap",fontSize:12},children:JSON.stringify(e.payload||{},null,2)})]},e.id))]}),(0,t.jsx)("div",{className:"modal-actions",children:(0,t.jsx)("button",{onClick:i,children:"Close"})})]})})}function b(e){var a,o;let{child:s,onAddTask:f}=e,{state:p,dispatch:h}=(0,r.useChoresApp)(),{openEditChildModal:m}=(0,i.useModalControl)(),[y,b]=n.default.useState(!1),[w,x]=n.default.useState(!1),[j,k]=n.default.useState(!1),C=new Date().toISOString().split("T")[0],E=[],S=[];p.tasks&&p.tasks.length>0?p.tasks.forEach(e=>{let t=function(e,t){if(!e)return null;if("number"==typeof e.assignedTo)return t.find(t=>t.id===e.assignedTo)||null;if("recurring"===e.type||"timed"===e.type){if(0===t.length)return null;let n=String(e.id||e.title||JSON.stringify(e)),r=0;for(let e=0;e<n.length;e++)r=31*r+n.charCodeAt(e)>>>0;let i=r%t.length;return t[i]}return null}(e,p.children),n="".concat(s.id,"-").concat(e.id,"-").concat(C),r=!!p.completedTasks[n],i=(p.timedCompletions||[]).find(e=>e.taskKey===n&&e.childId===s.id&&!e.approved);if(t&&t.id===s.id){let t={...e,name:e.title||e.name||"",emoji:e.emoji||"",color:e.color||"#cccccc",starReward:"number"==typeof e.stars?e.stars:"number"==typeof e.starReward?e.starReward:0,moneyReward:"number"==typeof e.money?e.money:"number"==typeof e.moneyReward?e.moneyReward:0,isCompleted:r,taskKey:n,pendingCompletionId:null==i?void 0:i.id,pendingCompletion:i};if("oneoff"===e.type){var a;let n=null==(a=e.oneOff)?void 0:a.dueDate;n&&n.split("T")[0]===C?E.push(t):S.push(t)}else E.push(t)}}):(E=p.chores.filter(e=>c(e)).map(e=>{let t=u(e,p.children);if((null==t?void 0:t.id)===s.id){let t=function(e,t,n){let r=new Date().toISOString().split("T")[0];return"".concat(e,"-").concat(t,"-").concat(r)}(s.id,e.id),n=p.completedTasks[t]||!1,r=(p.timedCompletions||[]).find(e=>e.taskKey===t&&e.childId===s.id&&!e.approved);return{...e,isCompleted:n,taskKey:t,type:"regular",pendingCompletionId:null==r?void 0:r.id,pendingCompletion:r}}return null}).filter(e=>null!==e),S=p.chores.filter(e=>!c(e)).map(e=>{let t=u(e,p.children);return(null==t?void 0:t.id)===s.id?{...e,isCompleted:!1,type:"regular"}:null}).filter(e=>null!==e));let N=(p.oneOffTasks[C]||[]).filter(e=>{if(e.assignedTo&&e.assignedTo!==s.id||"first-come"===e.type&&e.completed)return!1;if("all-children"===e.type){let t=d(s.id,e.id,C);return!p.completedTasks[t]}return!0}).map(e=>{let t=d(s.id,e.id,C),n=(p.timedCompletions||[]).find(e=>e.taskKey===t&&e.childId===s.id&&!e.approved);return{...e,taskKey:t,type:"one-off",isCompleted:!1,pendingCompletionId:null==n?void 0:n.id,pendingCompletion:n}});return(0,t.jsxs)("div",{className:"child-column".concat(j?" drag-over":""),"data-child-id":s.id,onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move",k(!0)},onDragLeave:()=>{k(!1)},onDrop:e=>{e.preventDefault(),k(!1);try{let{taskId:t,sourceChildId:n}=JSON.parse(e.dataTransfer.getData("text/plain"));if(n===s.id)return;h({type:"SET_STATE",payload:{...p,chores:p.chores.map(e=>e.id===t?{...e,eligibleChildren:[s.id]}:e)}})}catch(e){console.error("Drop error:",e)}},children:[j&&(0,t.jsx)("div",{className:"drop-indicator",children:"Drop task here"}),(0,t.jsxs)("div",{className:"child-header",children:[(0,t.jsxs)("div",{className:"child-name",children:[s.name,(0,t.jsx)("button",{className:"edit-btn",style:{marginLeft:8},onClick:()=>m(s.id),title:"Edit child",children:"âœï¸"}),(0,t.jsx)("button",{className:"small-pay-btn",style:{marginLeft:6},onClick:()=>{if(0>=(s.money||0))return void alert("".concat(s.name," has no money to pay out."));confirm("Pay ".concat(s.name," $").concat((s.money||0).toFixed(2),"?"))&&h({type:"PAY_CHILD",payload:s.id})},title:"Pay out",children:"ðŸ’µ"}),(0,t.jsx)("button",{className:"small-pay-btn",style:{marginLeft:6},onClick:()=>{b(!0)},title:"Pay on chain",children:"ðŸŒ"}),(0,t.jsx)("button",{className:"small-pay-btn",style:{marginLeft:6},onClick:()=>x(!0),title:"View action log",children:"ðŸ“"})]}),(0,t.jsxs)("div",{className:"child-stats",children:[(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{children:"â­"}),(0,t.jsx)("span",{children:null!=(a=s.stars)?a:0})]}),(0,t.jsxs)("div",{className:"stat-item",children:[(0,t.jsx)("span",{children:"ðŸ’°"}),(0,t.jsxs)("span",{children:["$",(null!=(o=s.money)?o:0).toFixed(2)]})]})]})]}),(0,t.jsxs)("div",{className:"tasks-list",children:[(0,t.jsxs)("div",{className:"tasks-section",children:[(0,t.jsxs)("div",{className:"section-title",children:["Today's Tasks",(0,t.jsx)("button",{className:"add-task-btn",onClick:f,children:"+ Task"})]}),0===E.length&&0===N.length?(0,t.jsx)("div",{className:"empty-state",children:"No tasks for today"}):(0,t.jsx)(t.Fragment,{children:[...E,...N].map(e=>{let n=e.taskKey||String(e.id||e.title||Math.random().toString(36).slice(2,8));return(0,t.jsx)(l,{task:e,childId:s.id},n)})})]}),S.length>0&&(0,t.jsxs)("div",{className:"tasks-section inactive-tasks",children:[(0,t.jsx)("div",{className:"section-title",children:"Upcoming Tasks"}),(0,t.jsx)(t.Fragment,{children:S.map(e=>{var n;let r=String(null!=(n=e.id)?n:e.title||Math.random().toString(36).slice(2,8));return(0,t.jsx)(l,{task:e,childId:s.id},r)})})]})]}),y&&(0,t.jsx)(v,{open:y,onClose:()=>b(!1),child:s,defaultAmount:s.money||0}),w&&(0,t.jsx)(g,{open:w,onClose:()=>x(!1),childId:s.id})]})}function w(e){let{childrenList:r,onAddTask:i}=e,a=n.default.useRef(null),o=()=>{let e=a.current;if(!e)return;let t=e.scrollWidth>e.clientWidth,n=e.scrollLeft<=5,r=e.scrollLeft>=e.scrollWidth-e.clientWidth-5;e.classList.toggle("scrollable-left",t&&!n),e.classList.toggle("scrollable-right",t&&!r)};return n.default.useEffect(()=>{let e=a.current;if(e)return o(),e.addEventListener("scroll",o),window.addEventListener("resize",o),()=>{e.removeEventListener("scroll",o),window.removeEventListener("resize",o)}},[r]),(0,t.jsx)("div",{ref:a,className:"children-grid","data-child-count":r.length,children:0===r.length?(0,t.jsxs)("div",{className:"no-children-message",children:[(0,t.jsx)("h3",{children:"No children configured"}),(0,t.jsx)("p",{children:'Add children using the "+ Add Child" button to start managing chores.'})]}):r.map(e=>(0,t.jsx)(b,{child:e,onAddTask:i?()=>i(e.id):void 0},e.id))})}function x(){let{state:e}=(0,r.useChoresApp)(),{openOneOffTaskModal:a}=(0,i.useModalControl)(),[o,s]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{s(!0)},[]),o)?(0,t.jsx)("main",{className:"main-view",children:(0,t.jsx)(w,{childrenList:e.children,onAddTask:a})}):(0,t.jsx)("main",{className:"main-view",children:(0,t.jsx)("div",{className:"children-grid",children:(0,t.jsx)("div",{className:"empty-state",children:"Loading..."})})})}},19675,(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",()=>e.r(43181)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push(["/"])})},48761,e=>{e.v(t=>Promise.all(["static/chunks/538cc02e54714b23.js"].map(t=>e.l(t))).then(()=>t(93594)))},28805,e=>{e.v(t=>Promise.all(["static/chunks/bd2dcf98c9b362f6.js"].map(t=>e.l(t))).then(()=>t(79466)))},90504,e=>{e.v(t=>Promise.all(["static/chunks/10b3b6aa8705a66b.js"].map(t=>e.l(t))).then(()=>t(77331)))},94911,e=>{e.v(t=>Promise.all(["static/chunks/8797a3d3279cbf5b.js"].map(t=>e.l(t))).then(()=>t(95705)))},12616,e=>{e.v(t=>Promise.all(["static/chunks/9013a18d0539b55d.js"].map(t=>e.l(t))).then(()=>t(87823)))}]);